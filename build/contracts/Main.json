{ "contractName": "Main", "abi": [ { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" }, { "constant": true, "inputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "name": "panels", "outputs": [ { "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "internalType": "uint16", "name": "monthsOfLife", "type": "uint16" }, { "internalType": "uint16", "name": "pp10kForPanel", "type": "uint16" }, { "internalType": "string", "name": "manufacturer", "type": "string" }, { "internalType": "address payable", "name": "manufacturerAddress", "type": "address" }, { "internalType": "address payable", "name": "ownerAddress", "type": "address" }, { "internalType": "address payable", "name": "recyclerAddress", "type": "address" }, { "internalType": "bool", "name": "isActive", "type": "bool" }, { "internalType": "uint256", "name": "balance", "type": "uint256" }, { "internalType": "uint256", "name": "recyclingCost", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "name": "registrationToId", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_registrationNumber", "type": "uint256" }, { "internalType": "string", "name": "_manufacturer", "type": "string" }, { "internalType": "address payable", "name": "_manufacturerAddress", "type": "address" }, { "internalType": "address payable", "name": "_ownerAddress", "type": "address" } ], "name": "registerPanel", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" } ], "name": "deposit", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" }, { "internalType": "uint256", "name": "_watthours", "type": "uint256" } ], "name": "pay", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" }, { "internalType": "uint256", "name": "_pp10kForPanel", "type": "uint256" } ], "name": "updatePanelShare", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" }, { "internalType": "address payable", "name": "_recyclerAddress", "type": "address" }, { "internalType": "uint256", "name": "_recyclingCost", "type": "uint256" } ], "name": "setRecycler", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" } ], "name": "calculateShares", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" }, { "internalType": "uint256", "name": "", "type": "uint256" }, { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_panelId", "type": "uint256" } ], "name": "close", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" } ], "metadata": "{\"compiler\":{\"version\":\"0.5.16+commit.9c3226ce\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"panelId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"valueReceived\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"payerAddress\",\"type\":\"address\"}],\"name\":\"DepositMade\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"panelId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"ownerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ownerShare\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"recyclerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"recyclerShare\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"manufacturerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"manufacturerShare\",\"type\":\"uint256\"}],\"name\":\"PanelClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"panelId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"registrationNumber\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"manufacturer\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"manufacturerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"ownerAddress\",\"type\":\"address\"}],\"name\":\"PanelRegistered\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"}],\"name\":\"calculateShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"}],\"name\":\"close\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"panels\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"registrationNumber\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"monthsOfLife\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"pp10kForPanel\",\"type\":\"uint16\"},{\"internalType\":\"string\",\"name\":\"manufacturer\",\"type\":\"string\"},{\"internalType\":\"address payable\",\"name\":\"manufacturerAddress\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"ownerAddress\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"recyclerAddress\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"recyclingCost\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_watthours\",\"type\":\"uint256\"}],\"name\":\"pay\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_registrationNumber\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_manufacturer\",\"type\":\"string\"},{\"internalType\":\"address payable\",\"name\":\"_manufacturerAddress\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_ownerAddress\",\"type\":\"address\"}],\"name\":\"registerPanel\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"registrationToId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"},{\"internalType\":\"address payable\",\"name\":\"_recyclerAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_recyclingCost\",\"type\":\"uint256\"}],\"name\":\"setRecycler\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_panelId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_pp10kForPanel\",\"type\":\"uint256\"}],\"name\":\"updatePanelShare\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{}},\"userdoc\":{\"methods\":{}}},\"settings\":{\"compilationTarget\":{\"/Users/una/Documents/GitHub/susDAO-SolarWorks/contracts/main.sol\":\"Main\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/una/Documents/GitHub/susDAO-SolarWorks/contracts/main.sol\":{\"keccak256\":\"0xe26e305966feaaf829999bf23cb3ea9f0bac5c00888eb8e6cefb675c0ac4f09a\",\"urls\":[\"bzz-raw://c43b5d17130b91d71abe8891523c9dd039dc92f3aa010032a4116c6f016f4e21\",\"dweb:/ipfs/QmZmgmE2BYyba2kMT1CDdUPSjcrjvmSzPEV11nTb96aQj9\"]}},\"version\":1}", "bytecode": "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611421806100606000396000f3fe6080604052600436106100865760003560e01c8063612d659d11610059578063612d659d146101cd5780637f8ceece146102b1578063b6b55f2514610300578063ef48eee61461032e578063f40e4f6f1461036657610086565b80630aebeb4e1461008b5780633ec16194146100c6578063512560e9146101235780635bf11d8d14610168575b600080fd5b34801561009757600080fd5b506100c4600480360360208110156100ae57600080fd5b81019080803590602001909291905050506104f1565b005b3480156100d257600080fd5b506100ff600480360360208110156100e957600080fd5b810190808035906020019092919050505061083f565b60405180848152602001838152602001828152602001935050505060405180910390f35b34801561012f57600080fd5b506101666004803603604081101561014657600080fd5b810190808035906020019092919080359060200190929190505050610941565b005b34801561017457600080fd5b506101cb6004803603606081101561018b57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506109d7565b005b3480156101d957600080fd5b5061029b600480360360808110156101f057600080fd5b81019080803590602001909291908035906020019064010000000081111561021757600080fd5b82018360208201111561022957600080fd5b8035906020019184600183028401116401000000008311171561024b57600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610aef565b6040518082815260200191505060405180910390f35b3480156102bd57600080fd5b506102ea600480360360208110156102d457600080fd5b8101908080359060200190929190505050610eda565b6040518082815260200191505060405180910390f35b61032c6004803603602081101561031657600080fd5b8101908080359060200190929190505050610ef2565b005b6103646004803603604081101561034457600080fd5b810190808035906020019092919080359060200190929190505050610fab565b005b34801561037257600080fd5b5061039f6004803603602081101561038957600080fd5b8101908080359060200190929190505050611124565b604051808b81526020018a61ffff1661ffff1681526020018961ffff1661ffff168152602001806020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200185151515158152602001848152602001838152602001828103825289818151815260200191508051906020019080838360005b838110156104ad578082015181840152602081019050610492565b50505050905090810190601f1680156104da5780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461054a57600080fd5b60008060006105588461083f565b80935081945082955050505060006001858154811061057357fe5b906000526020600020906009020190508060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc859081150290604051600060405180830381858888f193505050501580156105ed573d6000803e3d6000fd5b508060050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc849081150290604051600060405180830381858888f19350505050158015610658573d6000803e3d6000fd5b508060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501580156106c3573d6000803e3d6000fd5b5060008160050160146101000a81548160ff0219169083151502179055507f9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e858260040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16868460050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16878660030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1688604051808881526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200197505050505050505060405180910390a15050505050565b6000806000806001858154811061085257fe5b90600052602060002090600902019050600073ffffffffffffffffffffffffffffffffffffffff168160050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108c057600080fd5b6000809050600082600701549050600080905083600701549150836006015482106108ed57836006015491505b60248460010160009054906101000a900461ffff1661ffff1610610922576064828560060154036005028161091e57fe5b0490505b8082856006015403039250828282965096509650505050509193909250565b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461099a57600080fd5b80600183815481106109a857fe5b906000526020600020906009020160010160026101000a81548161ffff021916908361ffff1602179055505050565b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610a3057600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610a6a57600080fd5b8160018481548110610a7857fe5b906000526020600020906009020160050160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060018481548110610ad557fe5b906000526020600020906009020160070181905550505050565b60006001610afc57600080fd5b60006001806040518061016001604052808a8152602001600061ffff1681526020016103e861ffff16815260200189898080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020018773ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160011515815260200160008152602001600081526020016000604051908082528060200260200182016040528015610c105781602001602082028038833980820191505090505b50815250908060018154018082558091505090600182039060005260206000209060090201600090919290919091506000820151816000015560208201518160010160006101000a81548161ffff021916908361ffff16021790555060408201518160010160026101000a81548161ffff021916908361ffff1602179055506060820151816002019080519060200190610cab9291906112fa565b5060808201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a08201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060c08201518160050160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060e08201518160050160146101000a81548160ff02191690831515021790555061010082015181600601556101208201518160070155610140820151816008019080519060200190610dd492919061137a565b5050500390508060026000898152602001908152602001600020819055507fc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f81888888888860405180878152602001868152602001806020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281038252868682818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a18091505095945050505050565b60026020528060005260406000206000915090505481565b3460018281548110610f0057fe5b9060005260206000209060090201600601540160018281548110610f2057fe5b9060005260206000209060090201600601819055507f8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764813433604051808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a150565b600060018381548110610fba57fe5b9060005260206000209060090201905060006127108260010160029054906101000a900461ffff1661ffff16340281610fef57fe5b049050600081340390508260040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015611063573d6000803e3d6000fd5b50818360060154018360060181905550826008018490806001815401808255809150509060018203906000526020600020016000909192909190915055506110aa856112a6565b7f8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764858333604051808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a15050505050565b6001818154811061113157fe5b90600052602060002090600902016000915090508060000154908060010160009054906101000a900461ffff16908060010160029054906101000a900461ffff1690806002018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561120b5780601f106111e05761010080835404028352916020019161120b565b820191906000526020600020905b8154815290600101906020018083116111ee57829003601f168201915b5050505050908060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060050160149054906101000a900460ff1690806006015490806007015490508a565b600181815481106112b357fe5b9060005260206000209060090201600101600081819054906101000a900461ffff168092919060010191906101000a81548161ffff021916908361ffff1602179055505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061133b57805160ff1916838001178555611369565b82800160010185558215611369579182015b8281111561136857825182559160200191906001019061134d565b5b50905061137691906113c7565b5090565b8280548282559060005260206000209081019282156113b6579160200282015b828111156113b557825182559160200191906001019061139a565b5b5090506113c391906113c7565b5090565b6113e991905b808211156113e55760008160009055506001016113cd565b5090565b9056fea265627a7a72315820a25c4f8de4bcbb0a324e22b09f7ab97a179c862c9ca6a4c56114d4fa7e75911e64736f6c63430005100032", "deployedBytecode": "0x6080604052600436106100865760003560e01c8063612d659d11610059578063612d659d146101cd5780637f8ceece146102b1578063b6b55f2514610300578063ef48eee61461032e578063f40e4f6f1461036657610086565b80630aebeb4e1461008b5780633ec16194146100c6578063512560e9146101235780635bf11d8d14610168575b600080fd5b34801561009757600080fd5b506100c4600480360360208110156100ae57600080fd5b81019080803590602001909291905050506104f1565b005b3480156100d257600080fd5b506100ff600480360360208110156100e957600080fd5b810190808035906020019092919050505061083f565b60405180848152602001838152602001828152602001935050505060405180910390f35b34801561012f57600080fd5b506101666004803603604081101561014657600080fd5b810190808035906020019092919080359060200190929190505050610941565b005b34801561017457600080fd5b506101cb6004803603606081101561018b57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506109d7565b005b3480156101d957600080fd5b5061029b600480360360808110156101f057600080fd5b81019080803590602001909291908035906020019064010000000081111561021757600080fd5b82018360208201111561022957600080fd5b8035906020019184600183028401116401000000008311171561024b57600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610aef565b6040518082815260200191505060405180910390f35b3480156102bd57600080fd5b506102ea600480360360208110156102d457600080fd5b8101908080359060200190929190505050610eda565b6040518082815260200191505060405180910390f35b61032c6004803603602081101561031657600080fd5b8101908080359060200190929190505050610ef2565b005b6103646004803603604081101561034457600080fd5b810190808035906020019092919080359060200190929190505050610fab565b005b34801561037257600080fd5b5061039f6004803603602081101561038957600080fd5b8101908080359060200190929190505050611124565b604051808b81526020018a61ffff1661ffff1681526020018961ffff1661ffff168152602001806020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200185151515158152602001848152602001838152602001828103825289818151815260200191508051906020019080838360005b838110156104ad578082015181840152602081019050610492565b50505050905090810190601f1680156104da5780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461054a57600080fd5b60008060006105588461083f565b80935081945082955050505060006001858154811061057357fe5b906000526020600020906009020190508060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc859081150290604051600060405180830381858888f193505050501580156105ed573d6000803e3d6000fd5b508060050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc849081150290604051600060405180830381858888f19350505050158015610658573d6000803e3d6000fd5b508060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501580156106c3573d6000803e3d6000fd5b5060008160050160146101000a81548160ff0219169083151502179055507f9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e858260040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16868460050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16878660030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1688604051808881526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200197505050505050505060405180910390a15050505050565b6000806000806001858154811061085257fe5b90600052602060002090600902019050600073ffffffffffffffffffffffffffffffffffffffff168160050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108c057600080fd5b6000809050600082600701549050600080905083600701549150836006015482106108ed57836006015491505b60248460010160009054906101000a900461ffff1661ffff1610610922576064828560060154036005028161091e57fe5b0490505b8082856006015403039250828282965096509650505050509193909250565b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461099a57600080fd5b80600183815481106109a857fe5b906000526020600020906009020160010160026101000a81548161ffff021916908361ffff1602179055505050565b3373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610a3057600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610a6a57600080fd5b8160018481548110610a7857fe5b906000526020600020906009020160050160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060018481548110610ad557fe5b906000526020600020906009020160070181905550505050565b60006001610afc57600080fd5b60006001806040518061016001604052808a8152602001600061ffff1681526020016103e861ffff16815260200189898080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020018773ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160011515815260200160008152602001600081526020016000604051908082528060200260200182016040528015610c105781602001602082028038833980820191505090505b50815250908060018154018082558091505090600182039060005260206000209060090201600090919290919091506000820151816000015560208201518160010160006101000a81548161ffff021916908361ffff16021790555060408201518160010160026101000a81548161ffff021916908361ffff1602179055506060820151816002019080519060200190610cab9291906112fa565b5060808201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a08201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060c08201518160050160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060e08201518160050160146101000a81548160ff02191690831515021790555061010082015181600601556101208201518160070155610140820151816008019080519060200190610dd492919061137a565b5050500390508060026000898152602001908152602001600020819055507fc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f81888888888860405180878152602001868152602001806020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281038252868682818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a18091505095945050505050565b60026020528060005260406000206000915090505481565b3460018281548110610f0057fe5b9060005260206000209060090201600601540160018281548110610f2057fe5b9060005260206000209060090201600601819055507f8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764813433604051808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a150565b600060018381548110610fba57fe5b9060005260206000209060090201905060006127108260010160029054906101000a900461ffff1661ffff16340281610fef57fe5b049050600081340390508260040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015611063573d6000803e3d6000fd5b50818360060154018360060181905550826008018490806001815401808255809150509060018203906000526020600020016000909192909190915055506110aa856112a6565b7f8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764858333604051808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a15050505050565b6001818154811061113157fe5b90600052602060002090600902016000915090508060000154908060010160009054906101000a900461ffff16908060010160029054906101000a900461ffff1690806002018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561120b5780601f106111e05761010080835404028352916020019161120b565b820191906000526020600020905b8154815290600101906020018083116111ee57829003601f168201915b5050505050908060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060050160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060050160149054906101000a900460ff1690806006015490806007015490508a565b600181815481106112b357fe5b9060005260206000209060090201600101600081819054906101000a900461ffff168092919060010191906101000a81548161ffff021916908361ffff1602179055505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061133b57805160ff1916838001178555611369565b82800160010185558215611369579182015b8281111561136857825182559160200191906001019061134d565b5b50905061137691906113c7565b5090565b8280548282559060005260206000209081019282156113b6579160200282015b828111156113b557825182559160200191906001019061139a565b5b5090506113c391906113c7565b5090565b6113e991905b808211156113e55760008160009055506001016113cd565b5090565b9056fea265627a7a72315820a25c4f8de4bcbb0a324e22b09f7ab97a179c862c9ca6a4c56114d4fa7e75911e64736f6c63430005100032", "sourceMap": "33:6036:1:-;;;71:50;8:9:-1;5:2;;;30:1;27;20:12;5:2;71:50:1;106:10;98:5;;:18;;;;;;;;;;;;;;;;;;33:6036;;;;;;", "deployedSourceMap": "33:6036:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5485:582;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5485:582:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;5485:582:1;;;;;;;;;;;;;;;;;:::i;:::-;;4322:855;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4322:855:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;4322:855:1;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3650:147;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3650:147:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;3650:147:1;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;3866:356;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3866:356:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;3866:356:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;1936:559;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1936:559:1;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;1936:559:1;;;;;;;;;;;;;;;;;;;21:11:-1;8;5:28;2:2;;;46:1;43;36:12;2:2;1936:559:1;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;1936:559:1;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;1936:559:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;763:46;;8:9:-1;5:2;;;30:1;27;20:12;5:2;763:46:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;763:46:1;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;2898:178;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;2898:178:1;;;;;;;;;;;;;;;;;:::i;:::-;;3192:454;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;3192:454:1;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;738:21;;8:9:-1;5:2;;;30:1;27;20:12;5:2;738:21:1;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;738:21:1;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;738:21:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5485:582;1245:10;1238:17;;:5;;;;;;;;;;;:17;;;1230:26;;;;;;5540:15;5561:18;5585:22;5662:25;5678:8;5662:15;:25::i;:::-;5613:74;;;;;;;;;;;;5693:19;5715:6;5722:8;5715:16;;;;;;;;;;;;;;;;;;5693:38;;5737:5;:18;;;;;;;;;;;;:27;;:39;5765:10;5737:39;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5737:39:1;5782:5;:21;;;;;;;;;;;;:30;;:45;5813:13;5782:45;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5782:45:1;5833:5;:25;;;;;;;;;;;;:34;;:53;5868:17;5833:53;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5833:53:1;5909:5;5892;:14;;;:22;;;;;;;;;;;;;;;;;;5925:137;5937:8;5947:5;:18;;;;;;;;;;;;5967:10;5979:5;:21;;;;;;;;;;;;6002:13;6017:5;:25;;;;;;;;;;;;6044:17;5925:137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1262:1;;;;5485:582;:::o;4322:855::-;4383:4;4389;4395;4407:19;4429:6;4436:8;4429:16;;;;;;;;;;;;;;;;;;4407:38;;4492:1;4459:35;;:5;:21;;;;;;;;;;;;:35;;;;4451:44;;;;;;4501:15;4519:1;4501:19;;4526:18;4547:5;:19;;;4526:40;;4572:22;4597:1;4572:26;;4706:5;:19;;;4690:35;;4752:5;:13;;;4735;:30;4731:82;;4793:5;:13;;;4777:29;;4731:82;4929:4;4907:5;:18;;;;;;;;;;;;:26;;;4903:110;;5003:3;4986:13;4970:5;:13;;;:29;4965:1;:35;:41;;;;;;4945:61;;4903:110;5097:17;5081:13;5065:5;:13;;;:29;:49;5052:62;;5127:10;5139:13;5154:17;5120:52;;;;;;;;;;4322:855;;;;;:::o;3650:147::-;1245:10;1238:17;;:5;;;;;;;;;;;:17;;;1230:26;;;;;;3777:14;3737:6;3744:8;3737:16;;;;;;;;;;;;;;;;;;:30;;;:55;;;;;;;;;;;;;;;;;;3650:147;;:::o;3866:356::-;1245:10;1238:17;;:5;;;;;;;;;;;:17;;;1230:26;;;;;;4018:1;3990:30;;:16;:30;;;;3982:39;;;;;;4062:16;4027:6;4034:8;4027:16;;;;;;;;;;;;;;;;;;:32;;;:51;;;;;;;;;;;;;;;;;;4117:14;4084:6;4091:8;4084:16;;;;;;;;;;;;;;;;;;:30;;:47;;;;3866:356;;;:::o;1936:559::-;2122:4;1465;1457:13;;;;;;2134:12;2308:1;2149:6;2161:143;;;;;;;;2167:19;2161:143;;;;2188:1;2161:143;;;;;;2198:4;2161:143;;;;;;2205:13;;2161:143;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;2161:143:1;;;;;;;;;;2220:20;2161:143;;;;;;2242:13;2161:143;;;;;;2273:1;2161:143;;;;;;2278:4;2161:143;;;;;;2284:1;2161:143;;;;2287:1;2161:143;;;;2301:1;2290:13;;;;;;;;;;;;;;;;;;;;;;29:2:-1;21:6;17:15;117:4;105:10;97:6;88:34;148:4;140:6;136:17;126:27;;0:157;2290:13:1;;;;2161:143;;;2149:156;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;2149:156:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:160;2134:175;;2355:7;2315:16;:37;2332:19;2315:37;;;;;;;;;;;:47;;;;2373:97;2389:7;2398:19;2419:13;;2434:20;2456:13;2373:97;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;2373:97:1;;;;;;;;;;;;;;;;;;2483:7;2476:14;;;1936:559;;;;;;;:::o;763:46::-;;;;;;;;;;;;;;;;;:::o;2898:178::-;3007:9;2980:6;2987:8;2980:16;;;;;;;;;;;;;;;;;;:24;;;:36;2953:6;2960:8;2953:16;;;;;;;;;;;;;;;;;;:24;;:63;;;;3027:44;3039:8;3049:9;3060:10;3027:44;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2898:178;:::o;3192:454::-;3260:19;3282:6;3289:8;3282:16;;;;;;;;;;;;;;;;;;3260:38;;3304:18;3355:5;3335;:19;;;;;;;;;;;;3325:29;;:9;:29;:35;;;;;;3304:56;;3366:18;3399:13;3387:9;:25;3366:46;;3418:5;:18;;;;;;;;;;;;:27;;:42;3446:13;3418:42;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3418:42:1;3498:13;3482:5;:13;;;:29;3466:5;:13;;:45;;;;3517:5;:15;;3538:10;3517:32;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;3517:32:1;;;;;;;;;;;;;;;;;;;;;;3555:27;3573:8;3555:17;:27::i;:::-;3593:48;3605:8;3615:13;3630:10;3593:48;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3192:454;;;;;:::o;738:21::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;2681:92::-;2737:6;2744:8;2737:16;;;;;;;;;;;;;;;;;;:29;;;:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2681:92;:::o;33:6036::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o", "source": "pragma solidity >=0.5.0 <0.6.0;\n\ncontract Main {\n  address owner;\n  \n  constructor() public {\n    owner = msg.sender;\n  }\n\n  struct Panel {\n    uint registrationNumber;\n    uint16 monthsOfLife;\n    uint16 pp10kForPanel; //ratio for total income to panel in parts per 10k, for instance 10% = 1000pp10k\n    string manufacturer;\n    address payable manufacturerAddress;\n    address payable ownerAddress;\n    address payable recyclerAddress;\n    bool isActive;\n    uint balance;\n    uint recyclingCost;\n    //******** New ********////******** New ********////******** New ********////******** New ********//\n    uint[] watthours;\n    //******** New ********////******** New ********////******** New ********////******** New ********//\n  }\n\n  Panel[] public panels;\n  mapping (uint => uint) public registrationToId;\n\n  /* modifier to restrict function calls to only active panels */\n  modifier isActive(uint _panelId) {\n    require(panels[_panelId].isActive);\n    _;\n  }\n\n  /* Modifier requiring that the sender address is trusted third party */\n  modifier trusted() {\n    /* TODO\n    check if the caller of the function is trusted third party,\n    or oracle, maybe in form of a list of addresses checked against\n    msg.sender */\n    require(owner==msg.sender);\n    _;\n  }\n//******** New ********////******** New ********////******** New ********////******** New ********//\n  modifier onlyManufacturer() {\n    //TODO: make array with manufacturer addresses\n    require(true);\n    _;\n  }\n//******** New ********////******** New ********////******** New ********////******** New ********//\n\n\n  event PanelRegistered(uint panelId, uint registrationNumber, string manufacturer, address manufacturerAddress, address ownerAddress);\n  /* Function to register a panel, this marks the beginning of the lifetime of a panel */\n  //******add only manufacturer New ********////******** New ********////******** New ********////******** New ********//\n  function registerPanel(uint _registrationNumber, string calldata _manufacturer, address payable _manufacturerAddress, address payable _ownerAddress) external onlyManufacturer() returns (uint) {\n    uint panelId = panels.push(Panel(_registrationNumber, 0, uint16(1000), _manufacturer, _manufacturerAddress, _ownerAddress, address(uint160(0)), true, 0, 0, new uint[](0))) - 1;\n    registrationToId[_registrationNumber] = panelId;\n    emit PanelRegistered(panelId, _registrationNumber, _manufacturer, _manufacturerAddress, _ownerAddress);\n    return panelId;\n  }\n\n  /* Function to say that a panel has been operating for 1 month longer */\n  //******** private ********////******** New ********////******** New ********////******** New ********//\n  function _increaseLifetime(uint _panelId) private {\n    panels[_panelId].monthsOfLife++;\n  }\n\n  event DepositMade(uint panelId, uint valueReceived, address payerAddress);\n  /* Funtion to deposit ether to a panel */\n  function deposit(uint _panelId) external payable {\n    panels[_panelId].balance = panels[_panelId].balance + msg.value;\n    emit DepositMade(_panelId, msg.value, msg.sender);\n  }\n//******** uint _watthours ********////******** New ********////******** New ********////******** New ********//\n  function pay(uint _panelId, uint _watthours) external payable {\n    Panel storage panel = panels[_panelId];\n    uint valueForPanel = msg.value*panel.pp10kForPanel/10000;\n    uint valueForOwner = msg.value - valueForPanel;\n    panel.ownerAddress.transfer(valueForOwner);\n    panel.balance = panel.balance + valueForPanel;\n    panel.watthours.push(_watthours);\n    _increaseLifetime(_panelId);\n    emit DepositMade(_panelId, valueForPanel, msg.sender);\n  }\n\n  function updatePanelShare(uint _panelId, uint _pp10kForPanel) external trusted() {\n    panels[_panelId].pp10kForPanel = uint16(_pp10kForPanel);\n  }\n\n  /* Function to set the address and the cost of the recycler */\n  function setRecycler(uint _panelId, address payable _recyclerAddress, uint _recyclingCost) external trusted() {\n    require(_recyclerAddress != address(0));\n    panels[_panelId].recyclerAddress = _recyclerAddress;\n    panels[_panelId].recyclingCost = _recyclingCost; //Assume that recyclingCost already includes some profit margin for recycling company\n  }\n\n  /* Helper function calculating the shares for the involced parties based on balance etc... */\n  function calculateShares(uint _panelId) public view returns (uint, uint, uint) {\n    Panel storage panel = panels[_panelId];\n    require(panel.recyclerAddress != address(0));\n    uint ownerShare = 0;\n    uint recyclerShare = panel.recyclingCost;\n    uint manufacturerShare = 0;\n    // Recycler gets his cost, if balances not sufficcient then just all the balances\n    recyclerShare = panel.recyclingCost;\n    if (recyclerShare >= panel.balance) {\n        recyclerShare = panel.balance;\n    }\n    // If the panel lasted longer than 3 years, the manufacturer gets 5% of the rest\n    if (panel.monthsOfLife >= 3*12) {\n        manufacturerShare = 5 * (panel.balance - recyclerShare) / 100;\n    }\n    // finally user gets the rest\n    ownerShare = panel.balance - recyclerShare - manufacturerShare;\n    return(ownerShare, recyclerShare, manufacturerShare);\n  }\n\n  event PanelClosed(uint panelId, address ownerAddress, uint ownerShare, address recyclerAddress, uint recyclerShare, address manufacturerAddress, uint manufacturerShare);\n  /* This function marks the end of the lifetime of the PV panel,\n  The shares for the involced parties are calculated and paid. */\n  function close(uint _panelId) external trusted() {\n    uint ownerShare;\n    uint recyclerShare;\n    uint manufacturerShare;\n    (ownerShare, recyclerShare, manufacturerShare) = calculateShares(_panelId);\n    Panel storage panel = panels[_panelId];\n    panel.ownerAddress.transfer(ownerShare);\n    panel.recyclerAddress.transfer(recyclerShare);\n    panel.manufacturerAddress.transfer(manufacturerShare);\n    panel.isActive = false;\n    emit PanelClosed(_panelId, panel.ownerAddress, ownerShare, panel.recyclerAddress, recyclerShare, panel.manufacturerAddress, manufacturerShare);\n  }\n}", "sourcePath": "/Users/una/Documents/GitHub/susDAO-SolarWorks/contracts/main.sol", "ast": { "absolutePath": "/Users/una/Documents/GitHub/susDAO-SolarWorks/contracts/main.sol", "exportedSymbols": { "Main": [ 532 ] }, "id": 533, "nodeType": "SourceUnit", "nodes": [ { "id": 34, "literals": [ "solidity", ">=", "0.5", ".0", "<", "0.6", ".0" ], "nodeType": "PragmaDirective", "src": "0:31:1" }, { "baseContracts": [], "contractDependencies": [], "contractKind": "contract", "documentation": null, "fullyImplemented": true, "id": 532, "linearizedBaseContracts": [ 532 ], "name": "Main", "nodeType": "ContractDefinition", "nodes": [ { "constant": false, "id": 36, "name": "owner", "nodeType": "VariableDeclaration", "scope": 532, "src": "51:13:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 35, "name": "address", "nodeType": "ElementaryTypeName", "src": "51:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "body": { "id": 44, "nodeType": "Block", "src": "92:29:1", "statements": [ { "expression": { "argumentTypes": null, "id": 42, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 39, "name": "owner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 36, "src": "98:5:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 40, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "106:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 41, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "106:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "98:18:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "id": 43, "nodeType": "ExpressionStatement", "src": "98:18:1" } ] }, "documentation": null, "id": 45, "implemented": true, "kind": "constructor", "modifiers": [], "name": "", "nodeType": "FunctionDefinition", "parameters": { "id": 37, "nodeType": "ParameterList", "parameters": [], "src": "82:2:1" }, "returnParameters": { "id": 38, "nodeType": "ParameterList", "parameters": [], "src": "92:0:1" }, "scope": 532, "src": "71:50:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "public" }, { "canonicalName": "Main.Panel", "id": 69, "members": [ { "constant": false, "id": 47, "name": "registrationNumber", "nodeType": "VariableDeclaration", "scope": 69, "src": "144:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 46, "name": "uint", "nodeType": "ElementaryTypeName", "src": "144:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 49, "name": "monthsOfLife", "nodeType": "VariableDeclaration", "scope": 69, "src": "173:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "typeName": { "id": 48, "name": "uint16", "nodeType": "ElementaryTypeName", "src": "173:6:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 51, "name": "pp10kForPanel", "nodeType": "VariableDeclaration", "scope": 69, "src": "198:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "typeName": { "id": 50, "name": "uint16", "nodeType": "ElementaryTypeName", "src": "198:6:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 53, "name": "manufacturer", "nodeType": "VariableDeclaration", "scope": 69, "src": "305:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" }, "typeName": { "id": 52, "name": "string", "nodeType": "ElementaryTypeName", "src": "305:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 55, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "330:35:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 54, "name": "address", "nodeType": "ElementaryTypeName", "src": "330:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 57, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "371:28:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 56, "name": "address", "nodeType": "ElementaryTypeName", "src": "371:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 59, "name": "recyclerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "405:31:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 58, "name": "address", "nodeType": "ElementaryTypeName", "src": "405:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 61, "name": "isActive", "nodeType": "VariableDeclaration", "scope": 69, "src": "442:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "typeName": { "id": 60, "name": "bool", "nodeType": "ElementaryTypeName", "src": "442:4:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 63, "name": "balance", "nodeType": "VariableDeclaration", "scope": 69, "src": "461:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 62, "name": "uint", "nodeType": "ElementaryTypeName", "src": "461:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 65, "name": "recyclingCost", "nodeType": "VariableDeclaration", "scope": 69, "src": "479:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 64, "name": "uint", "nodeType": "ElementaryTypeName", "src": "479:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 68, "name": "watthours", "nodeType": "VariableDeclaration", "scope": 69, "src": "608:16:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" }, "typeName": { "baseType": { "id": 66, "name": "uint", "nodeType": "ElementaryTypeName", "src": "608:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 67, "length": null, "nodeType": "ArrayTypeName", "src": "608:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" } }, "value": null, "visibility": "internal" } ], "name": "Panel", "nodeType": "StructDefinition", "scope": 532, "src": "125:609:1", "visibility": "public" }, { "constant": false, "id": 72, "name": "panels", "nodeType": "VariableDeclaration", "scope": 532, "src": "738:21:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel[]" }, "typeName": { "baseType": { "contractScope": null, "id": 70, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "738:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "id": 71, "length": null, "nodeType": "ArrayTypeName", "src": "738:7:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage_ptr", "typeString": "struct Main.Panel[]" } }, "value": null, "visibility": "public" }, { "constant": false, "id": 76, "name": "registrationToId", "nodeType": "VariableDeclaration", "scope": 532, "src": "763:46:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" }, "typeName": { "id": 75, "keyType": { "id": 73, "name": "uint", "nodeType": "ElementaryTypeName", "src": "772:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Mapping", "src": "763:22:1", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" }, "valueType": { "id": 74, "name": "uint", "nodeType": "ElementaryTypeName", "src": "780:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } }, "value": null, "visibility": "public" }, { "body": { "id": 88, "nodeType": "Block", "src": "913:52:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 81, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "927:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 83, "indexExpression": { "argumentTypes": null, "id": 82, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 78, "src": "934:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "927:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 84, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "isActive", "nodeType": "MemberAccess", "referencedDeclaration": 61, "src": "927:25:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 80, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "919:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 85, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "919:34:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 86, "nodeType": "ExpressionStatement", "src": "919:34:1" }, { "id": 87, "nodeType": "PlaceholderStatement", "src": "959:1:1" } ] }, "documentation": null, "id": 89, "name": "isActive", "nodeType": "ModifierDefinition", "parameters": { "id": 79, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 78, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 89, "src": "898:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 77, "name": "uint", "nodeType": "ElementaryTypeName", "src": "898:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "897:15:1" }, "src": "880:85:1", "visibility": "internal" }, { "body": { "id": 99, "nodeType": "Block", "src": "1062:206:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address", "typeString": "address" }, "id": 95, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 92, "name": "owner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 36, "src": "1238:5:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "nodeType": "BinaryOperation", "operator": "==", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 93, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "1245:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 94, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "1245:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "1238:17:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 91, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "1230:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 96, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1230:26:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 97, "nodeType": "ExpressionStatement", "src": "1230:26:1" }, { "id": 98, "nodeType": "PlaceholderStatement", "src": "1262:1:1" } ] }, "documentation": null, "id": 100, "name": "trusted", "nodeType": "ModifierDefinition", "parameters": { "id": 90, "nodeType": "ParameterList", "parameters": [], "src": "1059:2:1" }, "src": "1043:225:1", "visibility": "internal" }, { "body": { "id": 107, "nodeType": "Block", "src": "1400:82:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "74727565", "id": 103, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "1465:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "true" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 102, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "1457:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 104, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1457:13:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 105, "nodeType": "ExpressionStatement", "src": "1457:13:1" }, { "id": 106, "nodeType": "PlaceholderStatement", "src": "1476:1:1" } ] }, "documentation": null, "id": 108, "name": "onlyManufacturer", "nodeType": "ModifierDefinition", "parameters": { "id": 101, "nodeType": "ParameterList", "parameters": [], "src": "1397:2:1" }, "src": "1372:110:1", "visibility": "internal" }, { "anonymous": false, "documentation": null, "id": 120, "name": "PanelRegistered", "nodeType": "EventDefinition", "parameters": { "id": 119, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 110, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 120, "src": "1610:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 109, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1610:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 112, "indexed": false, "name": "registrationNumber", "nodeType": "VariableDeclaration", "scope": 120, "src": "1624:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 111, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1624:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 114, "indexed": false, "name": "manufacturer", "nodeType": "VariableDeclaration", "scope": 120, "src": "1649:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_string_memory_ptr", "typeString": "string" }, "typeName": { "id": 113, "name": "string", "nodeType": "ElementaryTypeName", "src": "1649:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 116, "indexed": false, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 120, "src": "1670:27:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 115, "name": "address", "nodeType": "ElementaryTypeName", "src": "1670:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 118, "indexed": false, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 120, "src": "1699:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 117, "name": "address", "nodeType": "ElementaryTypeName", "src": "1699:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" } ], "src": "1609:111:1" }, "src": "1588:133:1" }, { "body": { "id": 182, "nodeType": "Block", "src": "2128:367:1", "statements": [ { "assignments": [ 136 ], "declarations": [ { "constant": false, "id": 136, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 182, "src": "2134:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 135, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2134:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 165, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 164, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 140, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2167:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "hexValue": "30", "id": 141, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2188:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "31303030", "id": 143, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2198:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_1000_by_1", "typeString": "int_const 1000" }, "value": "1000" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_1000_by_1", "typeString": "int_const 1000" } ], "id": 142, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2191:6:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint16_$", "typeString": "type(uint16)" }, "typeName": "uint16" }, "id": 144, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2191:12:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, { "argumentTypes": null, "id": 145, "name": "_manufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 124, "src": "2205:13:1", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" } }, { "argumentTypes": null, "id": 146, "name": "_manufacturerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 126, "src": "2220:20:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 147, "name": "_ownerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 128, "src": "2242:13:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 150, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2273:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 149, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2265:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint160_$", "typeString": "type(uint160)" }, "typeName": "uint160" }, "id": 151, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2265:10:1", "typeDescriptions": { "typeIdentifier": "t_uint160", "typeString": "uint160" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint160", "typeString": "uint160" } ], "id": 148, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2257:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 152, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2257:19:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "hexValue": "74727565", "id": 153, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "2278:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "true" }, { "argumentTypes": null, "hexValue": "30", "id": 154, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2284:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "hexValue": "30", "id": 155, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2287:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 159, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2301:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 158, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "NewExpression", "src": "2290:10:1", "typeDescriptions": { "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$", "typeString": "function (uint256) pure returns (uint256[] memory)" }, "typeName": { "baseType": { "id": 156, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2294:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 157, "length": null, "nodeType": "ArrayTypeName", "src": "2294:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" } } }, "id": 160, "isConstant": false, "isLValue": false, "isPure": true, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2290:13:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_memory", "typeString": "uint256[] memory" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_uint16", "typeString": "uint16" }, { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_bool", "typeString": "bool" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_array$_t_uint256_$dyn_memory", "typeString": "uint256[] memory" } ], "id": 139, "name": "Panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 69, "src": "2161:5:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_struct$_Panel_$69_storage_ptr_$", "typeString": "type(struct Main.Panel storage pointer)" } }, "id": 161, "isConstant": false, "isLValue": false, "isPure": false, "kind": "structConstructorCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2161:143:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_memory", "typeString": "struct Main.Panel memory" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_struct$_Panel_$69_memory", "typeString": "struct Main.Panel memory" } ], "expression": { "argumentTypes": null, "id": 137, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2149:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 138, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "push", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "2149:11:1", "typeDescriptions": { "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_Panel_$69_storage_$returns$_t_uint256_$", "typeString": "function (struct Main.Panel storage ref) returns (uint256)" } }, "id": 162, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2149:156:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "hexValue": "31", "id": 163, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2308:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_1_by_1", "typeString": "int_const 1" }, "value": "1" }, "src": "2149:160:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "2134:175:1" }, { "expression": { "argumentTypes": null, "id": 170, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 166, "name": "registrationToId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 76, "src": "2315:16:1", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" } }, "id": 168, "indexExpression": { "argumentTypes": null, "id": 167, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2332:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "nodeType": "IndexAccess", "src": "2315:37:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 169, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2355:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2315:47:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 171, "nodeType": "ExpressionStatement", "src": "2315:47:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 173, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2389:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 174, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2398:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 175, "name": "_manufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 124, "src": "2419:13:1", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" } }, { "argumentTypes": null, "id": 176, "name": "_manufacturerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 126, "src": "2434:20:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 177, "name": "_ownerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 128, "src": "2456:13:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 172, "name": "PanelRegistered", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 120, "src": "2373:15:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$_t_address_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,string memory,address,address)" } }, "id": 178, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2373:97:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 179, "nodeType": "EmitStatement", "src": "2368:102:1" }, { "expression": { "argumentTypes": null, "id": 180, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2483:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "functionReturnParameters": 134, "id": 181, "nodeType": "Return", "src": "2476:14:1" } ] }, "documentation": null, "id": 183, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 131, "modifierName": { "argumentTypes": null, "id": 130, "name": "onlyManufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 108, "src": "2094:16:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "2094:18:1" } ], "name": "registerPanel", "nodeType": "FunctionDefinition", "parameters": { "id": 129, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 122, "name": "_registrationNumber", "nodeType": "VariableDeclaration", "scope": 183, "src": "1959:24:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 121, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1959:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 124, "name": "_manufacturer", "nodeType": "VariableDeclaration", "scope": 183, "src": "1985:29:1", "stateVariable": false, "storageLocation": "calldata", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string" }, "typeName": { "id": 123, "name": "string", "nodeType": "ElementaryTypeName", "src": "1985:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 126, "name": "_manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 183, "src": "2016:36:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 125, "name": "address", "nodeType": "ElementaryTypeName", "src": "2016:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 128, "name": "_ownerAddress", "nodeType": "VariableDeclaration", "scope": 183, "src": "2054:29:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 127, "name": "address", "nodeType": "ElementaryTypeName", "src": "2054:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" } ], "src": "1958:126:1" }, "returnParameters": { "id": 134, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 133, "name": "", "nodeType": "VariableDeclaration", "scope": 183, "src": "2122:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 132, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2122:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2121:6:1" }, "scope": 532, "src": "1936:559:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 194, "nodeType": "Block", "src": "2731:42:1", "statements": [ { "expression": { "argumentTypes": null, "id": 192, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "UnaryOperation", "operator": "++", "prefix": false, "src": "2737:31:1", "subExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 188, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2737:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 190, "indexExpression": { "argumentTypes": null, "id": 189, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 185, "src": "2744:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2737:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 191, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "monthsOfLife", "nodeType": "MemberAccess", "referencedDeclaration": 49, "src": "2737:29:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "id": 193, "nodeType": "ExpressionStatement", "src": "2737:31:1" } ] }, "documentation": null, "id": 195, "implemented": true, "kind": "function", "modifiers": [], "name": "_increaseLifetime", "nodeType": "FunctionDefinition", "parameters": { "id": 186, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 185, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 195, "src": "2708:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 184, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2708:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2707:15:1" }, "returnParameters": { "id": 187, "nodeType": "ParameterList", "parameters": [], "src": "2731:0:1" }, "scope": 532, "src": "2681:92:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "private" }, { "anonymous": false, "documentation": null, "id": 203, "name": "DepositMade", "nodeType": "EventDefinition", "parameters": { "id": 202, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 197, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 203, "src": "2795:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 196, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2795:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 199, "indexed": false, "name": "valueReceived", "nodeType": "VariableDeclaration", "scope": 203, "src": "2809:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 198, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2809:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 201, "indexed": false, "name": "payerAddress", "nodeType": "VariableDeclaration", "scope": 203, "src": "2829:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 200, "name": "address", "nodeType": "ElementaryTypeName", "src": "2829:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" } ], "src": "2794:56:1" }, "src": "2777:74:1" }, { "body": { "id": 229, "nodeType": "Block", "src": "2947:129:1", "statements": [ { "expression": { "argumentTypes": null, "id": 219, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 208, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2953:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 210, "indexExpression": { "argumentTypes": null, "id": 209, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "2960:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2953:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 211, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "2953:24:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 218, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 212, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2980:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 214, "indexExpression": { "argumentTypes": null, "id": 213, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "2987:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2980:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 215, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "2980:24:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "+", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 216, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3007:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 217, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3007:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2980:36:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2953:63:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 220, "nodeType": "ExpressionStatement", "src": "2953:63:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 222, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "3039:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 223, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3049:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 224, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3049:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 225, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3060:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 226, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3060:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 221, "name": "DepositMade", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 203, "src": "3027:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,address)" } }, "id": 227, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3027:44:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 228, "nodeType": "EmitStatement", "src": "3022:49:1" } ] }, "documentation": null, "id": 230, "implemented": true, "kind": "function", "modifiers": [], "name": "deposit", "nodeType": "FunctionDefinition", "parameters": { "id": 206, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 205, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 230, "src": "2915:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 204, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2915:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2914:15:1" }, "returnParameters": { "id": 207, "nodeType": "ParameterList", "parameters": [], "src": "2947:0:1" }, "scope": 532, "src": "2898:178:1", "stateMutability": "payable", "superFunction": null, "visibility": "external" }, { "body": { "id": 296, "nodeType": "Block", "src": "3254:392:1", "statements": [ { "assignments": [ 238 ], "declarations": [ { "constant": false, "id": 238, "name": "panel", "nodeType": "VariableDeclaration", "scope": 296, "src": "3260:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 237, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "3260:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 242, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 239, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "3282:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 241, "indexExpression": { "argumentTypes": null, "id": 240, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3289:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "3282:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "3260:38:1" }, { "assignments": [ 244 ], "declarations": [ { "constant": false, "id": 244, "name": "valueForPanel", "nodeType": "VariableDeclaration", "scope": 296, "src": "3304:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 243, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3304:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 252, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 251, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 249, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 245, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3325:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 246, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3325:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 247, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3335:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 248, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "pp10kForPanel", "nodeType": "MemberAccess", "referencedDeclaration": 51, "src": "3335:19:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "src": "3325:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "/", "rightExpression": { "argumentTypes": null, "hexValue": "3130303030", "id": 250, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "3355:5:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_10000_by_1", "typeString": "int_const 10000" }, "value": "10000" }, "src": "3325:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "3304:56:1" }, { "assignments": [ 254 ], "declarations": [ { "constant": false, "id": 254, "name": "valueForOwner", "nodeType": "VariableDeclaration", "scope": 296, "src": "3366:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 253, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3366:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 259, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 258, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 255, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3387:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 256, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3387:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 257, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3399:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3387:25:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "3366:46:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 265, "name": "valueForOwner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 254, "src": "3446:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 260, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3418:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 263, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "3418:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 264, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3418:27:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 266, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3418:42:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 267, "nodeType": "ExpressionStatement", "src": "3418:42:1" }, { "expression": { "argumentTypes": null, "id": 275, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 268, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3466:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 270, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "3466:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 274, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 271, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3482:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 272, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "3482:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "+", "rightExpression": { "argumentTypes": null, "id": 273, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3498:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3482:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3466:45:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 276, "nodeType": "ExpressionStatement", "src": "3466:45:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 282, "name": "_watthours", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 234, "src": "3538:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 277, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3517:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 280, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "watthours", "nodeType": "MemberAccess", "referencedDeclaration": 68, "src": "3517:15:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage", "typeString": "uint256[] storage ref" } }, "id": 281, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "push", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3517:20:1", "typeDescriptions": { "typeIdentifier": "t_function_arraypush_nonpayable$_t_uint256_$returns$_t_uint256_$", "typeString": "function (uint256) returns (uint256)" } }, "id": 283, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3517:32:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 284, "nodeType": "ExpressionStatement", "src": "3517:32:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 286, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3573:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 285, "name": "_increaseLifetime", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 195, "src": "3555:17:1", "typeDescriptions": { "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 287, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3555:27:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 288, "nodeType": "ExpressionStatement", "src": "3555:27:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 290, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3605:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 291, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3615:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 292, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3630:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 293, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3630:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 289, "name": "DepositMade", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 203, "src": "3593:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,address)" } }, "id": 294, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3593:48:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 295, "nodeType": "EmitStatement", "src": "3588:53:1" } ] }, "documentation": null, "id": 297, "implemented": true, "kind": "function", "modifiers": [], "name": "pay", "nodeType": "FunctionDefinition", "parameters": { "id": 235, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 232, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 297, "src": "3205:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 231, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3205:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 234, "name": "_watthours", "nodeType": "VariableDeclaration", "scope": 297, "src": "3220:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 233, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3220:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3204:32:1" }, "returnParameters": { "id": 236, "nodeType": "ParameterList", "parameters": [], "src": "3254:0:1" }, "scope": 532, "src": "3192:454:1", "stateMutability": "payable", "superFunction": null, "visibility": "external" }, { "body": { "id": 315, "nodeType": "Block", "src": "3731:66:1", "statements": [ { "expression": { "argumentTypes": null, "id": 313, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 306, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "3737:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 308, "indexExpression": { "argumentTypes": null, "id": 307, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 299, "src": "3744:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "3737:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 309, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "pp10kForPanel", "nodeType": "MemberAccess", "referencedDeclaration": 51, "src": "3737:30:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 311, "name": "_pp10kForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 301, "src": "3777:14:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 310, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "3770:6:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint16_$", "typeString": "type(uint16)" }, "typeName": "uint16" }, "id": 312, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3770:22:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "src": "3737:55:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "id": 314, "nodeType": "ExpressionStatement", "src": "3737:55:1" } ] }, "documentation": null, "id": 316, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 304, "modifierName": { "argumentTypes": null, "id": 303, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "3721:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "3721:9:1" } ], "name": "updatePanelShare", "nodeType": "FunctionDefinition", "parameters": { "id": 302, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 299, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 316, "src": "3676:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 298, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3676:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 301, "name": "_pp10kForPanel", "nodeType": "VariableDeclaration", "scope": 316, "src": "3691:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 300, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3691:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3675:36:1" }, "returnParameters": { "id": 305, "nodeType": "ParameterList", "parameters": [], "src": "3731:0:1" }, "scope": 532, "src": "3650:147:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 349, "nodeType": "Block", "src": "3976:246:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "id": 332, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 328, "name": "_recyclerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 320, "src": "3990:16:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "BinaryOperation", "operator": "!=", "rightExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 330, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4018:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 329, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "4010:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 331, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4010:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "3990:30:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 327, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "3982:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 333, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3982:39:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 334, "nodeType": "ExpressionStatement", "src": "3982:39:1" }, { "expression": { "argumentTypes": null, "id": 340, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 335, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4027:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 337, "indexExpression": { "argumentTypes": null, "id": 336, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 318, "src": "4034:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4027:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 338, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "4027:32:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 339, "name": "_recyclerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 320, "src": "4062:16:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "4027:51:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 341, "nodeType": "ExpressionStatement", "src": "4027:51:1" }, { "expression": { "argumentTypes": null, "id": 347, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 342, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4084:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 344, "indexExpression": { "argumentTypes": null, "id": 343, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 318, "src": "4091:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4084:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 345, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4084:30:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 346, "name": "_recyclingCost", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 322, "src": "4117:14:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4084:47:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 348, "nodeType": "ExpressionStatement", "src": "4084:47:1" } ] }, "documentation": null, "id": 350, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 325, "modifierName": { "argumentTypes": null, "id": 324, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "3966:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "3966:9:1" } ], "name": "setRecycler", "nodeType": "FunctionDefinition", "parameters": { "id": 323, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 318, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 350, "src": "3887:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 317, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3887:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 320, "name": "_recyclerAddress", "nodeType": "VariableDeclaration", "scope": 350, "src": "3902:32:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 319, "name": "address", "nodeType": "ElementaryTypeName", "src": "3902:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 322, "name": "_recyclingCost", "nodeType": "VariableDeclaration", "scope": 350, "src": "3936:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 321, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3936:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3886:70:1" }, "returnParameters": { "id": 326, "nodeType": "ParameterList", "parameters": [], "src": "3976:0:1" }, "scope": 532, "src": "3866:356:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 439, "nodeType": "Block", "src": "4401:776:1", "statements": [ { "assignments": [ 362 ], "declarations": [ { "constant": false, "id": 362, "name": "panel", "nodeType": "VariableDeclaration", "scope": 439, "src": "4407:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 361, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "4407:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 366, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 363, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4429:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 365, "indexExpression": { "argumentTypes": null, "id": 364, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 352, "src": "4436:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4429:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "4407:38:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "id": 373, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 368, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4459:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 369, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "4459:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "BinaryOperation", "operator": "!=", "rightExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 371, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4492:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 370, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "4484:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 372, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4484:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "4459:35:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 367, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "4451:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 374, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4451:44:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 375, "nodeType": "ExpressionStatement", "src": "4451:44:1" }, { "assignments": [ 377 ], "declarations": [ { "constant": false, "id": 377, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4501:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 376, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4501:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 379, "initialValue": { "argumentTypes": null, "hexValue": "30", "id": 378, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4519:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, "nodeType": "VariableDeclarationStatement", "src": "4501:19:1" }, { "assignments": [ 381 ], "declarations": [ { "constant": false, "id": 381, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4526:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 380, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4526:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 384, "initialValue": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 382, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4547:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 383, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4547:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "4526:40:1" }, { "assignments": [ 386 ], "declarations": [ { "constant": false, "id": 386, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4572:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 385, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4572:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 388, "initialValue": { "argumentTypes": null, "hexValue": "30", "id": 387, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4597:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, "nodeType": "VariableDeclarationStatement", "src": "4572:26:1" }, { "expression": { "argumentTypes": null, "id": 392, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 389, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4690:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 390, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4706:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 391, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4706:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4690:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 393, "nodeType": "ExpressionStatement", "src": "4690:35:1" }, { "condition": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 397, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 394, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4735:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 395, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4752:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 396, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4752:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4735:30:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "falseBody": null, "id": 404, "nodeType": "IfStatement", "src": "4731:82:1", "trueBody": { "id": 403, "nodeType": "Block", "src": "4767:46:1", "statements": [ { "expression": { "argumentTypes": null, "id": 401, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 398, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4777:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 399, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4793:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 400, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4793:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4777:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 402, "nodeType": "ExpressionStatement", "src": "4777:29:1" } ] } }, { "condition": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "id": 410, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 405, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4907:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 406, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "monthsOfLife", "nodeType": "MemberAccess", "referencedDeclaration": 49, "src": "4907:18:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_rational_36_by_1", "typeString": "int_const 36" }, "id": 409, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "hexValue": "33", "id": 407, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4929:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_3_by_1", "typeString": "int_const 3" }, "value": "3" }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "hexValue": "3132", "id": 408, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4931:2:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_12_by_1", "typeString": "int_const 12" }, "value": "12" }, "src": "4929:4:1", "typeDescriptions": { "typeIdentifier": "t_rational_36_by_1", "typeString": "int_const 36" } }, "src": "4907:26:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "falseBody": null, "id": 424, "nodeType": "IfStatement", "src": "4903:110:1", "trueBody": { "id": 423, "nodeType": "Block", "src": "4935:78:1", "statements": [ { "expression": { "argumentTypes": null, "id": 421, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 411, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "4945:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 420, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 418, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "hexValue": "35", "id": 412, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4965:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_5_by_1", "typeString": "int_const 5" }, "value": "5" }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "components": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 416, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 413, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4970:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 414, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4970:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 415, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4986:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4970:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 417, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "4969:31:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4965:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "/", "rightExpression": { "argumentTypes": null, "hexValue": "313030", "id": 419, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "5003:3:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_100_by_1", "typeString": "int_const 100" }, "value": "100" }, "src": "4965:41:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4945:61:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 422, "nodeType": "ExpressionStatement", "src": "4945:61:1" } ] } }, { "expression": { "argumentTypes": null, "id": 432, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 425, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 377, "src": "5052:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 431, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 429, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 426, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "5065:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 427, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "5065:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 428, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "5081:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5065:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 430, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "5097:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5065:49:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5052:62:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 433, "nodeType": "ExpressionStatement", "src": "5052:62:1" }, { "expression": { "argumentTypes": null, "components": [ { "argumentTypes": null, "id": 434, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 377, "src": "5127:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 435, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "5139:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 436, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "5154:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 437, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "5126:46:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "functionReturnParameters": 360, "id": 438, "nodeType": "Return", "src": "5120:52:1" } ] }, "documentation": null, "id": 440, "implemented": true, "kind": "function", "modifiers": [], "name": "calculateShares", "nodeType": "FunctionDefinition", "parameters": { "id": 353, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 352, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 440, "src": "4347:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 351, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4347:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "4346:15:1" }, "returnParameters": { "id": 360, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 355, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4383:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 354, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4383:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 357, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4389:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 356, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4389:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 359, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4395:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 358, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4395:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "4382:18:1" }, "scope": 532, "src": "4322:855:1", "stateMutability": "view", "superFunction": null, "visibility": "public" }, { "anonymous": false, "documentation": null, "id": 456, "name": "PanelClosed", "nodeType": "EventDefinition", "parameters": { "id": 455, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 442, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 456, "src": "5199:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 441, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5199:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 444, "indexed": false, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5213:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 443, "name": "address", "nodeType": "ElementaryTypeName", "src": "5213:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 446, "indexed": false, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5235:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 445, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5235:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 448, "indexed": false, "name": "recyclerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5252:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 447, "name": "address", "nodeType": "ElementaryTypeName", "src": "5252:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 450, "indexed": false, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5277:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 449, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5277:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 452, "indexed": false, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5297:27:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 451, "name": "address", "nodeType": "ElementaryTypeName", "src": "5297:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 454, "indexed": false, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5326:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 453, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5326:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "5198:151:1" }, "src": "5181:169:1" }, { "body": { "id": 530, "nodeType": "Block", "src": "5534:533:1", "statements": [ { "assignments": [ 464 ], "declarations": [ { "constant": false, "id": 464, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5540:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 463, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5540:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 465, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5540:15:1" }, { "assignments": [ 467 ], "declarations": [ { "constant": false, "id": 467, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5561:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 466, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5561:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 468, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5561:18:1" }, { "assignments": [ 470 ], "declarations": [ { "constant": false, "id": 470, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5585:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 469, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5585:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 471, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5585:22:1" }, { "expression": { "argumentTypes": null, "id": 479, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "components": [ { "argumentTypes": null, "id": 472, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5614:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 473, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "5626:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 474, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "5641:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 475, "isConstant": false, "isInlineArray": false, "isLValue": true, "isPure": false, "lValueRequested": true, "nodeType": "TupleExpression", "src": "5613:46:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 477, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5678:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 476, "name": "calculateShares", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 440, "src": "5662:15:1", "typeDescriptions": { "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "function (uint256) view returns (uint256,uint256,uint256)" } }, "id": 478, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5662:25:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "src": "5613:74:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 480, "nodeType": "ExpressionStatement", "src": "5613:74:1" }, { "assignments": [ 482 ], "declarations": [ { "constant": false, "id": 482, "name": "panel", "nodeType": "VariableDeclaration", "scope": 530, "src": "5693:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 481, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "5693:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 486, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 483, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "5715:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 485, "indexExpression": { "argumentTypes": null, "id": 484, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5722:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "5715:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "5693:38:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 492, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5765:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 487, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5737:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 490, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "5737:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 491, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5737:27:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 493, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5737:39:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 494, "nodeType": "ExpressionStatement", "src": "5737:39:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 500, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "5813:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 495, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5782:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 498, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "5782:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 499, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5782:30:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 501, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5782:45:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 502, "nodeType": "ExpressionStatement", "src": "5782:45:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 508, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "5868:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 503, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5833:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 506, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "manufacturerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 55, "src": "5833:25:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 507, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5833:34:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 509, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5833:53:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 510, "nodeType": "ExpressionStatement", "src": "5833:53:1" }, { "expression": { "argumentTypes": null, "id": 515, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 511, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5892:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 513, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "isActive", "nodeType": "MemberAccess", "referencedDeclaration": 61, "src": "5892:14:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "hexValue": "66616c7365", "id": 514, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "5909:5:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "false" }, "src": "5892:22:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "id": 516, "nodeType": "ExpressionStatement", "src": "5892:22:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 518, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5937:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 519, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5947:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 520, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "5947:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 521, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5967:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 522, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5979:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 523, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "5979:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 524, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "6002:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 525, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "6017:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 526, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "manufacturerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 55, "src": "6017:25:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 527, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "6044:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 517, "name": "PanelClosed", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 456, "src": "5925:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (uint256,address,uint256,address,uint256,address,uint256)" } }, "id": 528, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5925:137:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 529, "nodeType": "EmitStatement", "src": "5920:142:1" } ] }, "documentation": null, "id": 531, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 461, "modifierName": { "argumentTypes": null, "id": 460, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "5524:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "5524:9:1" } ], "name": "close", "nodeType": "FunctionDefinition", "parameters": { "id": 459, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 458, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 531, "src": "5500:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 457, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5500:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "5499:15:1" }, "returnParameters": { "id": 462, "nodeType": "ParameterList", "parameters": [], "src": "5534:0:1" }, "scope": 532, "src": "5485:582:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" } ], "scope": 533, "src": "33:6036:1" } ], "src": "0:6069:1" }, "legacyAST": { "absolutePath": "/Users/una/Documents/GitHub/susDAO-SolarWorks/contracts/main.sol", "exportedSymbols": { "Main": [ 532 ] }, "id": 533, "nodeType": "SourceUnit", "nodes": [ { "id": 34, "literals": [ "solidity", ">=", "0.5", ".0", "<", "0.6", ".0" ], "nodeType": "PragmaDirective", "src": "0:31:1" }, { "baseContracts": [], "contractDependencies": [], "contractKind": "contract", "documentation": null, "fullyImplemented": true, "id": 532, "linearizedBaseContracts": [ 532 ], "name": "Main", "nodeType": "ContractDefinition", "nodes": [ { "constant": false, "id": 36, "name": "owner", "nodeType": "VariableDeclaration", "scope": 532, "src": "51:13:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 35, "name": "address", "nodeType": "ElementaryTypeName", "src": "51:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "body": { "id": 44, "nodeType": "Block", "src": "92:29:1", "statements": [ { "expression": { "argumentTypes": null, "id": 42, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 39, "name": "owner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 36, "src": "98:5:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 40, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "106:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 41, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "106:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "98:18:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "id": 43, "nodeType": "ExpressionStatement", "src": "98:18:1" } ] }, "documentation": null, "id": 45, "implemented": true, "kind": "constructor", "modifiers": [], "name": "", "nodeType": "FunctionDefinition", "parameters": { "id": 37, "nodeType": "ParameterList", "parameters": [], "src": "82:2:1" }, "returnParameters": { "id": 38, "nodeType": "ParameterList", "parameters": [], "src": "92:0:1" }, "scope": 532, "src": "71:50:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "public" }, { "canonicalName": "Main.Panel", "id": 69, "members": [ { "constant": false, "id": 47, "name": "registrationNumber", "nodeType": "VariableDeclaration", "scope": 69, "src": "144:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 46, "name": "uint", "nodeType": "ElementaryTypeName", "src": "144:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 49, "name": "monthsOfLife", "nodeType": "VariableDeclaration", "scope": 69, "src": "173:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "typeName": { "id": 48, "name": "uint16", "nodeType": "ElementaryTypeName", "src": "173:6:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 51, "name": "pp10kForPanel", "nodeType": "VariableDeclaration", "scope": 69, "src": "198:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "typeName": { "id": 50, "name": "uint16", "nodeType": "ElementaryTypeName", "src": "198:6:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 53, "name": "manufacturer", "nodeType": "VariableDeclaration", "scope": 69, "src": "305:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" }, "typeName": { "id": 52, "name": "string", "nodeType": "ElementaryTypeName", "src": "305:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 55, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "330:35:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 54, "name": "address", "nodeType": "ElementaryTypeName", "src": "330:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 57, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "371:28:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 56, "name": "address", "nodeType": "ElementaryTypeName", "src": "371:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 59, "name": "recyclerAddress", "nodeType": "VariableDeclaration", "scope": 69, "src": "405:31:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 58, "name": "address", "nodeType": "ElementaryTypeName", "src": "405:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 61, "name": "isActive", "nodeType": "VariableDeclaration", "scope": 69, "src": "442:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "typeName": { "id": 60, "name": "bool", "nodeType": "ElementaryTypeName", "src": "442:4:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 63, "name": "balance", "nodeType": "VariableDeclaration", "scope": 69, "src": "461:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 62, "name": "uint", "nodeType": "ElementaryTypeName", "src": "461:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 65, "name": "recyclingCost", "nodeType": "VariableDeclaration", "scope": 69, "src": "479:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 64, "name": "uint", "nodeType": "ElementaryTypeName", "src": "479:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 68, "name": "watthours", "nodeType": "VariableDeclaration", "scope": 69, "src": "608:16:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" }, "typeName": { "baseType": { "id": 66, "name": "uint", "nodeType": "ElementaryTypeName", "src": "608:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 67, "length": null, "nodeType": "ArrayTypeName", "src": "608:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" } }, "value": null, "visibility": "internal" } ], "name": "Panel", "nodeType": "StructDefinition", "scope": 532, "src": "125:609:1", "visibility": "public" }, { "constant": false, "id": 72, "name": "panels", "nodeType": "VariableDeclaration", "scope": 532, "src": "738:21:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel[]" }, "typeName": { "baseType": { "contractScope": null, "id": 70, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "738:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "id": 71, "length": null, "nodeType": "ArrayTypeName", "src": "738:7:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage_ptr", "typeString": "struct Main.Panel[]" } }, "value": null, "visibility": "public" }, { "constant": false, "id": 76, "name": "registrationToId", "nodeType": "VariableDeclaration", "scope": 532, "src": "763:46:1", "stateVariable": true, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" }, "typeName": { "id": 75, "keyType": { "id": 73, "name": "uint", "nodeType": "ElementaryTypeName", "src": "772:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Mapping", "src": "763:22:1", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" }, "valueType": { "id": 74, "name": "uint", "nodeType": "ElementaryTypeName", "src": "780:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } }, "value": null, "visibility": "public" }, { "body": { "id": 88, "nodeType": "Block", "src": "913:52:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 81, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "927:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 83, "indexExpression": { "argumentTypes": null, "id": 82, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 78, "src": "934:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "927:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 84, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "isActive", "nodeType": "MemberAccess", "referencedDeclaration": 61, "src": "927:25:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 80, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "919:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 85, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "919:34:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 86, "nodeType": "ExpressionStatement", "src": "919:34:1" }, { "id": 87, "nodeType": "PlaceholderStatement", "src": "959:1:1" } ] }, "documentation": null, "id": 89, "name": "isActive", "nodeType": "ModifierDefinition", "parameters": { "id": 79, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 78, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 89, "src": "898:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 77, "name": "uint", "nodeType": "ElementaryTypeName", "src": "898:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "897:15:1" }, "src": "880:85:1", "visibility": "internal" }, { "body": { "id": 99, "nodeType": "Block", "src": "1062:206:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address", "typeString": "address" }, "id": 95, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 92, "name": "owner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 36, "src": "1238:5:1", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "nodeType": "BinaryOperation", "operator": "==", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 93, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "1245:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 94, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "1245:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "1238:17:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 91, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "1230:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 96, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1230:26:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 97, "nodeType": "ExpressionStatement", "src": "1230:26:1" }, { "id": 98, "nodeType": "PlaceholderStatement", "src": "1262:1:1" } ] }, "documentation": null, "id": 100, "name": "trusted", "nodeType": "ModifierDefinition", "parameters": { "id": 90, "nodeType": "ParameterList", "parameters": [], "src": "1059:2:1" }, "src": "1043:225:1", "visibility": "internal" }, { "body": { "id": 107, "nodeType": "Block", "src": "1400:82:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "74727565", "id": 103, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "1465:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "true" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 102, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "1457:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 104, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1457:13:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 105, "nodeType": "ExpressionStatement", "src": "1457:13:1" }, { "id": 106, "nodeType": "PlaceholderStatement", "src": "1476:1:1" } ] }, "documentation": null, "id": 108, "name": "onlyManufacturer", "nodeType": "ModifierDefinition", "parameters": { "id": 101, "nodeType": "ParameterList", "parameters": [], "src": "1397:2:1" }, "src": "1372:110:1", "visibility": "internal" }, { "anonymous": false, "documentation": null, "id": 120, "name": "PanelRegistered", "nodeType": "EventDefinition", "parameters": { "id": 119, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 110, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 120, "src": "1610:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 109, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1610:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 112, "indexed": false, "name": "registrationNumber", "nodeType": "VariableDeclaration", "scope": 120, "src": "1624:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 111, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1624:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 114, "indexed": false, "name": "manufacturer", "nodeType": "VariableDeclaration", "scope": 120, "src": "1649:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_string_memory_ptr", "typeString": "string" }, "typeName": { "id": 113, "name": "string", "nodeType": "ElementaryTypeName", "src": "1649:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 116, "indexed": false, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 120, "src": "1670:27:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 115, "name": "address", "nodeType": "ElementaryTypeName", "src": "1670:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 118, "indexed": false, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 120, "src": "1699:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 117, "name": "address", "nodeType": "ElementaryTypeName", "src": "1699:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" } ], "src": "1609:111:1" }, "src": "1588:133:1" }, { "body": { "id": 182, "nodeType": "Block", "src": "2128:367:1", "statements": [ { "assignments": [ 136 ], "declarations": [ { "constant": false, "id": 136, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 182, "src": "2134:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 135, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2134:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 165, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 164, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 140, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2167:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "hexValue": "30", "id": 141, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2188:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "31303030", "id": 143, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2198:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_1000_by_1", "typeString": "int_const 1000" }, "value": "1000" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_1000_by_1", "typeString": "int_const 1000" } ], "id": 142, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2191:6:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint16_$", "typeString": "type(uint16)" }, "typeName": "uint16" }, "id": 144, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2191:12:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, { "argumentTypes": null, "id": 145, "name": "_manufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 124, "src": "2205:13:1", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" } }, { "argumentTypes": null, "id": 146, "name": "_manufacturerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 126, "src": "2220:20:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 147, "name": "_ownerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 128, "src": "2242:13:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 150, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2273:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 149, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2265:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint160_$", "typeString": "type(uint160)" }, "typeName": "uint160" }, "id": 151, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2265:10:1", "typeDescriptions": { "typeIdentifier": "t_uint160", "typeString": "uint160" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint160", "typeString": "uint160" } ], "id": 148, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "2257:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 152, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2257:19:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "hexValue": "74727565", "id": 153, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "2278:4:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "true" }, { "argumentTypes": null, "hexValue": "30", "id": 154, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2284:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "hexValue": "30", "id": 155, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2287:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 159, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2301:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 158, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "NewExpression", "src": "2290:10:1", "typeDescriptions": { "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$", "typeString": "function (uint256) pure returns (uint256[] memory)" }, "typeName": { "baseType": { "id": 156, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2294:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 157, "length": null, "nodeType": "ArrayTypeName", "src": "2294:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr", "typeString": "uint256[]" } } }, "id": 160, "isConstant": false, "isLValue": false, "isPure": true, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2290:13:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_memory", "typeString": "uint256[] memory" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_uint16", "typeString": "uint16" }, { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_bool", "typeString": "bool" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, { "typeIdentifier": "t_array$_t_uint256_$dyn_memory", "typeString": "uint256[] memory" } ], "id": 139, "name": "Panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 69, "src": "2161:5:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_struct$_Panel_$69_storage_ptr_$", "typeString": "type(struct Main.Panel storage pointer)" } }, "id": 161, "isConstant": false, "isLValue": false, "isPure": false, "kind": "structConstructorCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2161:143:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_memory", "typeString": "struct Main.Panel memory" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_struct$_Panel_$69_memory", "typeString": "struct Main.Panel memory" } ], "expression": { "argumentTypes": null, "id": 137, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2149:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 138, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "push", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "2149:11:1", "typeDescriptions": { "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_Panel_$69_storage_$returns$_t_uint256_$", "typeString": "function (struct Main.Panel storage ref) returns (uint256)" } }, "id": 162, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2149:156:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "hexValue": "31", "id": 163, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "2308:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_1_by_1", "typeString": "int_const 1" }, "value": "1" }, "src": "2149:160:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "2134:175:1" }, { "expression": { "argumentTypes": null, "id": 170, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 166, "name": "registrationToId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 76, "src": "2315:16:1", "typeDescriptions": { "typeIdentifier": "t_mapping$_t_uint256_$_t_uint256_$", "typeString": "mapping(uint256 => uint256)" } }, "id": 168, "indexExpression": { "argumentTypes": null, "id": 167, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2332:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "nodeType": "IndexAccess", "src": "2315:37:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 169, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2355:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2315:47:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 171, "nodeType": "ExpressionStatement", "src": "2315:47:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 173, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2389:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 174, "name": "_registrationNumber", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 122, "src": "2398:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 175, "name": "_manufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 124, "src": "2419:13:1", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" } }, { "argumentTypes": null, "id": 176, "name": "_manufacturerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 126, "src": "2434:20:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 177, "name": "_ownerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 128, "src": "2456:13:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string calldata" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 172, "name": "PanelRegistered", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 120, "src": "2373:15:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$_t_address_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,string memory,address,address)" } }, "id": 178, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "2373:97:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 179, "nodeType": "EmitStatement", "src": "2368:102:1" }, { "expression": { "argumentTypes": null, "id": 180, "name": "panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 136, "src": "2483:7:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "functionReturnParameters": 134, "id": 181, "nodeType": "Return", "src": "2476:14:1" } ] }, "documentation": null, "id": 183, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 131, "modifierName": { "argumentTypes": null, "id": 130, "name": "onlyManufacturer", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 108, "src": "2094:16:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "2094:18:1" } ], "name": "registerPanel", "nodeType": "FunctionDefinition", "parameters": { "id": 129, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 122, "name": "_registrationNumber", "nodeType": "VariableDeclaration", "scope": 183, "src": "1959:24:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 121, "name": "uint", "nodeType": "ElementaryTypeName", "src": "1959:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 124, "name": "_manufacturer", "nodeType": "VariableDeclaration", "scope": 183, "src": "1985:29:1", "stateVariable": false, "storageLocation": "calldata", "typeDescriptions": { "typeIdentifier": "t_string_calldata_ptr", "typeString": "string" }, "typeName": { "id": 123, "name": "string", "nodeType": "ElementaryTypeName", "src": "1985:6:1", "typeDescriptions": { "typeIdentifier": "t_string_storage_ptr", "typeString": "string" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 126, "name": "_manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 183, "src": "2016:36:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 125, "name": "address", "nodeType": "ElementaryTypeName", "src": "2016:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 128, "name": "_ownerAddress", "nodeType": "VariableDeclaration", "scope": 183, "src": "2054:29:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 127, "name": "address", "nodeType": "ElementaryTypeName", "src": "2054:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" } ], "src": "1958:126:1" }, "returnParameters": { "id": 134, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 133, "name": "", "nodeType": "VariableDeclaration", "scope": 183, "src": "2122:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 132, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2122:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2121:6:1" }, "scope": 532, "src": "1936:559:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 194, "nodeType": "Block", "src": "2731:42:1", "statements": [ { "expression": { "argumentTypes": null, "id": 192, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "UnaryOperation", "operator": "++", "prefix": false, "src": "2737:31:1", "subExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 188, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2737:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 190, "indexExpression": { "argumentTypes": null, "id": 189, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 185, "src": "2744:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2737:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 191, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "monthsOfLife", "nodeType": "MemberAccess", "referencedDeclaration": 49, "src": "2737:29:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "id": 193, "nodeType": "ExpressionStatement", "src": "2737:31:1" } ] }, "documentation": null, "id": 195, "implemented": true, "kind": "function", "modifiers": [], "name": "_increaseLifetime", "nodeType": "FunctionDefinition", "parameters": { "id": 186, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 185, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 195, "src": "2708:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 184, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2708:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2707:15:1" }, "returnParameters": { "id": 187, "nodeType": "ParameterList", "parameters": [], "src": "2731:0:1" }, "scope": 532, "src": "2681:92:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "private" }, { "anonymous": false, "documentation": null, "id": 203, "name": "DepositMade", "nodeType": "EventDefinition", "parameters": { "id": 202, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 197, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 203, "src": "2795:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 196, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2795:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 199, "indexed": false, "name": "valueReceived", "nodeType": "VariableDeclaration", "scope": 203, "src": "2809:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 198, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2809:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 201, "indexed": false, "name": "payerAddress", "nodeType": "VariableDeclaration", "scope": 203, "src": "2829:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 200, "name": "address", "nodeType": "ElementaryTypeName", "src": "2829:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" } ], "src": "2794:56:1" }, "src": "2777:74:1" }, { "body": { "id": 229, "nodeType": "Block", "src": "2947:129:1", "statements": [ { "expression": { "argumentTypes": null, "id": 219, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 208, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2953:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 210, "indexExpression": { "argumentTypes": null, "id": 209, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "2960:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2953:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 211, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "2953:24:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 218, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 212, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "2980:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 214, "indexExpression": { "argumentTypes": null, "id": 213, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "2987:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "2980:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 215, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "2980:24:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "+", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 216, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3007:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 217, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3007:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2980:36:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "2953:63:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 220, "nodeType": "ExpressionStatement", "src": "2953:63:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 222, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 205, "src": "3039:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 223, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3049:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 224, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3049:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 225, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3060:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 226, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3060:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 221, "name": "DepositMade", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 203, "src": "3027:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,address)" } }, "id": 227, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3027:44:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 228, "nodeType": "EmitStatement", "src": "3022:49:1" } ] }, "documentation": null, "id": 230, "implemented": true, "kind": "function", "modifiers": [], "name": "deposit", "nodeType": "FunctionDefinition", "parameters": { "id": 206, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 205, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 230, "src": "2915:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 204, "name": "uint", "nodeType": "ElementaryTypeName", "src": "2915:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "2914:15:1" }, "returnParameters": { "id": 207, "nodeType": "ParameterList", "parameters": [], "src": "2947:0:1" }, "scope": 532, "src": "2898:178:1", "stateMutability": "payable", "superFunction": null, "visibility": "external" }, { "body": { "id": 296, "nodeType": "Block", "src": "3254:392:1", "statements": [ { "assignments": [ 238 ], "declarations": [ { "constant": false, "id": 238, "name": "panel", "nodeType": "VariableDeclaration", "scope": 296, "src": "3260:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 237, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "3260:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 242, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 239, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "3282:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 241, "indexExpression": { "argumentTypes": null, "id": 240, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3289:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "3282:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "3260:38:1" }, { "assignments": [ 244 ], "declarations": [ { "constant": false, "id": 244, "name": "valueForPanel", "nodeType": "VariableDeclaration", "scope": 296, "src": "3304:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 243, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3304:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 252, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 251, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 249, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 245, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3325:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 246, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3325:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 247, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3335:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 248, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "pp10kForPanel", "nodeType": "MemberAccess", "referencedDeclaration": 51, "src": "3335:19:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "src": "3325:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "/", "rightExpression": { "argumentTypes": null, "hexValue": "3130303030", "id": 250, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "3355:5:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_10000_by_1", "typeString": "int_const 10000" }, "value": "10000" }, "src": "3325:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "3304:56:1" }, { "assignments": [ 254 ], "declarations": [ { "constant": false, "id": 254, "name": "valueForOwner", "nodeType": "VariableDeclaration", "scope": 296, "src": "3366:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 253, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3366:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 259, "initialValue": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 258, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 255, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3387:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 256, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "value", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3387:9:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 257, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3399:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3387:25:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "3366:46:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 265, "name": "valueForOwner", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 254, "src": "3446:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 260, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3418:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 263, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "3418:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 264, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3418:27:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 266, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3418:42:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 267, "nodeType": "ExpressionStatement", "src": "3418:42:1" }, { "expression": { "argumentTypes": null, "id": 275, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 268, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3466:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 270, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "3466:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 274, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 271, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3482:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 272, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "3482:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "+", "rightExpression": { "argumentTypes": null, "id": 273, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3498:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3482:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "3466:45:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 276, "nodeType": "ExpressionStatement", "src": "3466:45:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 282, "name": "_watthours", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 234, "src": "3538:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 277, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 238, "src": "3517:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 280, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "watthours", "nodeType": "MemberAccess", "referencedDeclaration": 68, "src": "3517:15:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_uint256_$dyn_storage", "typeString": "uint256[] storage ref" } }, "id": 281, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "push", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3517:20:1", "typeDescriptions": { "typeIdentifier": "t_function_arraypush_nonpayable$_t_uint256_$returns$_t_uint256_$", "typeString": "function (uint256) returns (uint256)" } }, "id": 283, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3517:32:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 284, "nodeType": "ExpressionStatement", "src": "3517:32:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 286, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3573:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 285, "name": "_increaseLifetime", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 195, "src": "3555:17:1", "typeDescriptions": { "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 287, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3555:27:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 288, "nodeType": "ExpressionStatement", "src": "3555:27:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 290, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 232, "src": "3605:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 291, "name": "valueForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 244, "src": "3615:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 292, "name": "msg", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 547, "src": "3630:3:1", "typeDescriptions": { "typeIdentifier": "t_magic_message", "typeString": "msg" } }, "id": 293, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "sender", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "3630:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" } ], "id": 289, "name": "DepositMade", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 203, "src": "3593:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_address_$returns$__$", "typeString": "function (uint256,uint256,address)" } }, "id": 294, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3593:48:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 295, "nodeType": "EmitStatement", "src": "3588:53:1" } ] }, "documentation": null, "id": 297, "implemented": true, "kind": "function", "modifiers": [], "name": "pay", "nodeType": "FunctionDefinition", "parameters": { "id": 235, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 232, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 297, "src": "3205:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 231, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3205:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 234, "name": "_watthours", "nodeType": "VariableDeclaration", "scope": 297, "src": "3220:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 233, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3220:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3204:32:1" }, "returnParameters": { "id": 236, "nodeType": "ParameterList", "parameters": [], "src": "3254:0:1" }, "scope": 532, "src": "3192:454:1", "stateMutability": "payable", "superFunction": null, "visibility": "external" }, { "body": { "id": 315, "nodeType": "Block", "src": "3731:66:1", "statements": [ { "expression": { "argumentTypes": null, "id": 313, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 306, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "3737:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 308, "indexExpression": { "argumentTypes": null, "id": 307, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 299, "src": "3744:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "3737:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 309, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "pp10kForPanel", "nodeType": "MemberAccess", "referencedDeclaration": 51, "src": "3737:30:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 311, "name": "_pp10kForPanel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 301, "src": "3777:14:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 310, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "3770:6:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_uint16_$", "typeString": "type(uint16)" }, "typeName": "uint16" }, "id": 312, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3770:22:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "src": "3737:55:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "id": 314, "nodeType": "ExpressionStatement", "src": "3737:55:1" } ] }, "documentation": null, "id": 316, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 304, "modifierName": { "argumentTypes": null, "id": 303, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "3721:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "3721:9:1" } ], "name": "updatePanelShare", "nodeType": "FunctionDefinition", "parameters": { "id": 302, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 299, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 316, "src": "3676:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 298, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3676:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 301, "name": "_pp10kForPanel", "nodeType": "VariableDeclaration", "scope": 316, "src": "3691:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 300, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3691:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3675:36:1" }, "returnParameters": { "id": 305, "nodeType": "ParameterList", "parameters": [], "src": "3731:0:1" }, "scope": 532, "src": "3650:147:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 349, "nodeType": "Block", "src": "3976:246:1", "statements": [ { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "id": 332, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 328, "name": "_recyclerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 320, "src": "3990:16:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "BinaryOperation", "operator": "!=", "rightExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 330, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4018:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 329, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "4010:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 331, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4010:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "3990:30:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 327, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "3982:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 333, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "3982:39:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 334, "nodeType": "ExpressionStatement", "src": "3982:39:1" }, { "expression": { "argumentTypes": null, "id": 340, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 335, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4027:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 337, "indexExpression": { "argumentTypes": null, "id": 336, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 318, "src": "4034:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4027:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 338, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "4027:32:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 339, "name": "_recyclerAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 320, "src": "4062:16:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "4027:51:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 341, "nodeType": "ExpressionStatement", "src": "4027:51:1" }, { "expression": { "argumentTypes": null, "id": 347, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 342, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4084:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 344, "indexExpression": { "argumentTypes": null, "id": 343, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 318, "src": "4091:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4084:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "id": 345, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4084:30:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "id": 346, "name": "_recyclingCost", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 322, "src": "4117:14:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4084:47:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 348, "nodeType": "ExpressionStatement", "src": "4084:47:1" } ] }, "documentation": null, "id": 350, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 325, "modifierName": { "argumentTypes": null, "id": 324, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "3966:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "3966:9:1" } ], "name": "setRecycler", "nodeType": "FunctionDefinition", "parameters": { "id": 323, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 318, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 350, "src": "3887:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 317, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3887:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 320, "name": "_recyclerAddress", "nodeType": "VariableDeclaration", "scope": 350, "src": "3902:32:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "typeName": { "id": 319, "name": "address", "nodeType": "ElementaryTypeName", "src": "3902:15:1", "stateMutability": "payable", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 322, "name": "_recyclingCost", "nodeType": "VariableDeclaration", "scope": 350, "src": "3936:19:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 321, "name": "uint", "nodeType": "ElementaryTypeName", "src": "3936:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "3886:70:1" }, "returnParameters": { "id": 326, "nodeType": "ParameterList", "parameters": [], "src": "3976:0:1" }, "scope": 532, "src": "3866:356:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" }, { "body": { "id": 439, "nodeType": "Block", "src": "4401:776:1", "statements": [ { "assignments": [ 362 ], "declarations": [ { "constant": false, "id": 362, "name": "panel", "nodeType": "VariableDeclaration", "scope": 439, "src": "4407:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 361, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "4407:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 366, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 363, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "4429:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 365, "indexExpression": { "argumentTypes": null, "id": 364, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 352, "src": "4436:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "4429:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "4407:38:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, "id": 373, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 368, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4459:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 369, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "4459:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "nodeType": "BinaryOperation", "operator": "!=", "rightExpression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "hexValue": "30", "id": 371, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4492:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" } ], "id": 370, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "4484:7:1", "typeDescriptions": { "typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)" }, "typeName": "address" }, "id": 372, "isConstant": false, "isLValue": false, "isPure": true, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4484:10:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "src": "4459:35:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_bool", "typeString": "bool" } ], "id": 367, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [ 550, 551 ], "referencedDeclaration": 550, "src": "4451:7:1", "typeDescriptions": { "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$", "typeString": "function (bool) pure" } }, "id": 374, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "4451:44:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 375, "nodeType": "ExpressionStatement", "src": "4451:44:1" }, { "assignments": [ 377 ], "declarations": [ { "constant": false, "id": 377, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4501:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 376, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4501:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 379, "initialValue": { "argumentTypes": null, "hexValue": "30", "id": 378, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4519:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, "nodeType": "VariableDeclarationStatement", "src": "4501:19:1" }, { "assignments": [ 381 ], "declarations": [ { "constant": false, "id": 381, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4526:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 380, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4526:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 384, "initialValue": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 382, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4547:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 383, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4547:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "VariableDeclarationStatement", "src": "4526:40:1" }, { "assignments": [ 386 ], "declarations": [ { "constant": false, "id": 386, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 439, "src": "4572:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 385, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4572:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 388, "initialValue": { "argumentTypes": null, "hexValue": "30", "id": 387, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4597:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_0_by_1", "typeString": "int_const 0" }, "value": "0" }, "nodeType": "VariableDeclarationStatement", "src": "4572:26:1" }, { "expression": { "argumentTypes": null, "id": 392, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 389, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4690:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 390, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4706:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 391, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclingCost", "nodeType": "MemberAccess", "referencedDeclaration": 65, "src": "4706:19:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4690:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 393, "nodeType": "ExpressionStatement", "src": "4690:35:1" }, { "condition": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 397, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "id": 394, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4735:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 395, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4752:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 396, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4752:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4735:30:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "falseBody": null, "id": 404, "nodeType": "IfStatement", "src": "4731:82:1", "trueBody": { "id": 403, "nodeType": "Block", "src": "4767:46:1", "statements": [ { "expression": { "argumentTypes": null, "id": 401, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 398, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4777:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 399, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4793:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 400, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4793:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4777:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 402, "nodeType": "ExpressionStatement", "src": "4777:29:1" } ] } }, { "condition": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint16", "typeString": "uint16" }, "id": 410, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 405, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4907:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 406, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "monthsOfLife", "nodeType": "MemberAccess", "referencedDeclaration": 49, "src": "4907:18:1", "typeDescriptions": { "typeIdentifier": "t_uint16", "typeString": "uint16" } }, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_rational_36_by_1", "typeString": "int_const 36" }, "id": 409, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "hexValue": "33", "id": 407, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4929:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_3_by_1", "typeString": "int_const 3" }, "value": "3" }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "hexValue": "3132", "id": 408, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4931:2:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_12_by_1", "typeString": "int_const 12" }, "value": "12" }, "src": "4929:4:1", "typeDescriptions": { "typeIdentifier": "t_rational_36_by_1", "typeString": "int_const 36" } }, "src": "4907:26:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "falseBody": null, "id": 424, "nodeType": "IfStatement", "src": "4903:110:1", "trueBody": { "id": 423, "nodeType": "Block", "src": "4935:78:1", "statements": [ { "expression": { "argumentTypes": null, "id": 421, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 411, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "4945:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 420, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 418, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "hexValue": "35", "id": 412, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "4965:1:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_5_by_1", "typeString": "int_const 5" }, "value": "5" }, "nodeType": "BinaryOperation", "operator": "*", "rightExpression": { "argumentTypes": null, "components": [ { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 416, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 413, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "4970:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 414, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "4970:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 415, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "4986:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4970:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 417, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "4969:31:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4965:35:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "/", "rightExpression": { "argumentTypes": null, "hexValue": "313030", "id": 419, "isConstant": false, "isLValue": false, "isPure": true, "kind": "number", "lValueRequested": false, "nodeType": "Literal", "src": "5003:3:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_rational_100_by_1", "typeString": "int_const 100" }, "value": "100" }, "src": "4965:41:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "4945:61:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 422, "nodeType": "ExpressionStatement", "src": "4945:61:1" } ] } }, { "expression": { "argumentTypes": null, "id": 432, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "id": 425, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 377, "src": "5052:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 431, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "commonType": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "id": 429, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 426, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 362, "src": "5065:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 427, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "balance", "nodeType": "MemberAccess", "referencedDeclaration": 63, "src": "5065:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 428, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "5081:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5065:29:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "nodeType": "BinaryOperation", "operator": "-", "rightExpression": { "argumentTypes": null, "id": 430, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "5097:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5065:49:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "src": "5052:62:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "id": 433, "nodeType": "ExpressionStatement", "src": "5052:62:1" }, { "expression": { "argumentTypes": null, "components": [ { "argumentTypes": null, "id": 434, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 377, "src": "5127:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 435, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 381, "src": "5139:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 436, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 386, "src": "5154:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 437, "isConstant": false, "isInlineArray": false, "isLValue": false, "isPure": false, "lValueRequested": false, "nodeType": "TupleExpression", "src": "5126:46:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "functionReturnParameters": 360, "id": 438, "nodeType": "Return", "src": "5120:52:1" } ] }, "documentation": null, "id": 440, "implemented": true, "kind": "function", "modifiers": [], "name": "calculateShares", "nodeType": "FunctionDefinition", "parameters": { "id": 353, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 352, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 440, "src": "4347:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 351, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4347:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "4346:15:1" }, "returnParameters": { "id": 360, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 355, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4383:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 354, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4383:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 357, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4389:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 356, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4389:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 359, "name": "", "nodeType": "VariableDeclaration", "scope": 440, "src": "4395:4:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 358, "name": "uint", "nodeType": "ElementaryTypeName", "src": "4395:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "4382:18:1" }, "scope": 532, "src": "4322:855:1", "stateMutability": "view", "superFunction": null, "visibility": "public" }, { "anonymous": false, "documentation": null, "id": 456, "name": "PanelClosed", "nodeType": "EventDefinition", "parameters": { "id": 455, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 442, "indexed": false, "name": "panelId", "nodeType": "VariableDeclaration", "scope": 456, "src": "5199:12:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 441, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5199:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 444, "indexed": false, "name": "ownerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5213:20:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 443, "name": "address", "nodeType": "ElementaryTypeName", "src": "5213:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 446, "indexed": false, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5235:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 445, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5235:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 448, "indexed": false, "name": "recyclerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5252:23:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 447, "name": "address", "nodeType": "ElementaryTypeName", "src": "5252:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 450, "indexed": false, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5277:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 449, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5277:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 452, "indexed": false, "name": "manufacturerAddress", "nodeType": "VariableDeclaration", "scope": 456, "src": "5297:27:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" }, "typeName": { "id": 451, "name": "address", "nodeType": "ElementaryTypeName", "src": "5297:7:1", "stateMutability": "nonpayable", "typeDescriptions": { "typeIdentifier": "t_address", "typeString": "address" } }, "value": null, "visibility": "internal" }, { "constant": false, "id": 454, "indexed": false, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 456, "src": "5326:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 453, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5326:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "5198:151:1" }, "src": "5181:169:1" }, { "body": { "id": 530, "nodeType": "Block", "src": "5534:533:1", "statements": [ { "assignments": [ 464 ], "declarations": [ { "constant": false, "id": 464, "name": "ownerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5540:15:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 463, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5540:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 465, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5540:15:1" }, { "assignments": [ 467 ], "declarations": [ { "constant": false, "id": 467, "name": "recyclerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5561:18:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 466, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5561:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 468, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5561:18:1" }, { "assignments": [ 470 ], "declarations": [ { "constant": false, "id": 470, "name": "manufacturerShare", "nodeType": "VariableDeclaration", "scope": 530, "src": "5585:22:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 469, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5585:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "id": 471, "initialValue": null, "nodeType": "VariableDeclarationStatement", "src": "5585:22:1" }, { "expression": { "argumentTypes": null, "id": 479, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "components": [ { "argumentTypes": null, "id": 472, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5614:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 473, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "5626:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "id": 474, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "5641:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "id": 475, "isConstant": false, "isInlineArray": false, "isLValue": true, "isPure": false, "lValueRequested": true, "nodeType": "TupleExpression", "src": "5613:46:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 477, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5678:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 476, "name": "calculateShares", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 440, "src": "5662:15:1", "typeDescriptions": { "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "function (uint256) view returns (uint256,uint256,uint256)" } }, "id": 478, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5662:25:1", "typeDescriptions": { "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$", "typeString": "tuple(uint256,uint256,uint256)" } }, "src": "5613:74:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 480, "nodeType": "ExpressionStatement", "src": "5613:74:1" }, { "assignments": [ 482 ], "declarations": [ { "constant": false, "id": 482, "name": "panel", "nodeType": "VariableDeclaration", "scope": 530, "src": "5693:19:1", "stateVariable": false, "storageLocation": "storage", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" }, "typeName": { "contractScope": null, "id": 481, "name": "Panel", "nodeType": "UserDefinedTypeName", "referencedDeclaration": 69, "src": "5693:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel" } }, "value": null, "visibility": "internal" } ], "id": 486, "initialValue": { "argumentTypes": null, "baseExpression": { "argumentTypes": null, "id": 483, "name": "panels", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 72, "src": "5715:6:1", "typeDescriptions": { "typeIdentifier": "t_array$_t_struct$_Panel_$69_storage_$dyn_storage", "typeString": "struct Main.Panel storage ref[] storage ref" } }, "id": 485, "indexExpression": { "argumentTypes": null, "id": 484, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5722:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "nodeType": "IndexAccess", "src": "5715:16:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage", "typeString": "struct Main.Panel storage ref" } }, "nodeType": "VariableDeclarationStatement", "src": "5693:38:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 492, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5765:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 487, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5737:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 490, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "5737:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 491, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5737:27:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 493, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5737:39:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 494, "nodeType": "ExpressionStatement", "src": "5737:39:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 500, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "5813:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 495, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5782:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 498, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "5782:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 499, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5782:30:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 501, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5782:45:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 502, "nodeType": "ExpressionStatement", "src": "5782:45:1" }, { "expression": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 508, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "5868:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "expression": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 503, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5833:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 506, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "manufacturerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 55, "src": "5833:25:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, "id": 507, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": null, "src": "5833:34:1", "typeDescriptions": { "typeIdentifier": "t_function_transfer_nonpayable$_t_uint256_$returns$__$", "typeString": "function (uint256)" } }, "id": 509, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5833:53:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 510, "nodeType": "ExpressionStatement", "src": "5833:53:1" }, { "expression": { "argumentTypes": null, "id": 515, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 511, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5892:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 513, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": true, "memberName": "isActive", "nodeType": "MemberAccess", "referencedDeclaration": 61, "src": "5892:14:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "nodeType": "Assignment", "operator": "=", "rightHandSide": { "argumentTypes": null, "hexValue": "66616c7365", "id": 514, "isConstant": false, "isLValue": false, "isPure": true, "kind": "bool", "lValueRequested": false, "nodeType": "Literal", "src": "5909:5:1", "subdenomination": null, "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" }, "value": "false" }, "src": "5892:22:1", "typeDescriptions": { "typeIdentifier": "t_bool", "typeString": "bool" } }, "id": 516, "nodeType": "ExpressionStatement", "src": "5892:22:1" }, { "eventCall": { "argumentTypes": null, "arguments": [ { "argumentTypes": null, "id": 518, "name": "_panelId", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 458, "src": "5937:8:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 519, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5947:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 520, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "ownerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 57, "src": "5947:18:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 521, "name": "ownerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 464, "src": "5967:10:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 522, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "5979:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 523, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "recyclerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 59, "src": "5979:21:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 524, "name": "recyclerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 467, "src": "6002:13:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, { "argumentTypes": null, "expression": { "argumentTypes": null, "id": 525, "name": "panel", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 482, "src": "6017:5:1", "typeDescriptions": { "typeIdentifier": "t_struct$_Panel_$69_storage_ptr", "typeString": "struct Main.Panel storage pointer" } }, "id": 526, "isConstant": false, "isLValue": true, "isPure": false, "lValueRequested": false, "memberName": "manufacturerAddress", "nodeType": "MemberAccess", "referencedDeclaration": 55, "src": "6017:25:1", "typeDescriptions": { "typeIdentifier": "t_address_payable", "typeString": "address payable" } }, { "argumentTypes": null, "id": 527, "name": "manufacturerShare", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 470, "src": "6044:17:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } } ], "expression": { "argumentTypes": [ { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" }, { "typeIdentifier": "t_address_payable", "typeString": "address payable" }, { "typeIdentifier": "t_uint256", "typeString": "uint256" } ], "id": 517, "name": "PanelClosed", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 456, "src": "5925:11:1", "typeDescriptions": { "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_uint256_$_t_address_$_t_uint256_$returns$__$", "typeString": "function (uint256,address,uint256,address,uint256,address,uint256)" } }, "id": 528, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "5925:137:1", "typeDescriptions": { "typeIdentifier": "t_tuple$__$", "typeString": "tuple()" } }, "id": 529, "nodeType": "EmitStatement", "src": "5920:142:1" } ] }, "documentation": null, "id": 531, "implemented": true, "kind": "function", "modifiers": [ { "arguments": [], "id": 461, "modifierName": { "argumentTypes": null, "id": 460, "name": "trusted", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 100, "src": "5524:7:1", "typeDescriptions": { "typeIdentifier": "t_modifier$__$", "typeString": "modifier ()" } }, "nodeType": "ModifierInvocation", "src": "5524:9:1" } ], "name": "close", "nodeType": "FunctionDefinition", "parameters": { "id": 459, "nodeType": "ParameterList", "parameters": [ { "constant": false, "id": 458, "name": "_panelId", "nodeType": "VariableDeclaration", "scope": 531, "src": "5500:13:1", "stateVariable": false, "storageLocation": "default", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" }, "typeName": { "id": 457, "name": "uint", "nodeType": "ElementaryTypeName", "src": "5500:4:1", "typeDescriptions": { "typeIdentifier": "t_uint256", "typeString": "uint256" } }, "value": null, "visibility": "internal" } ], "src": "5499:15:1" }, "returnParameters": { "id": 462, "nodeType": "ParameterList", "parameters": [], "src": "5534:0:1" }, "scope": 532, "src": "5485:582:1", "stateMutability": "nonpayable", "superFunction": null, "visibility": "external" } ], "scope": 533, "src": "33:6036:1" } ], "src": "0:6069:1" }, "compiler": { "name": "solc", "version": "0.5.16+commit.9c3226ce.Emscripten.clang" }, "networks": { "1605799463059": { "events": { "0x8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, "0x9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, "0xc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" } }, "links": {}, "address": "0x10F9d4Da7F4CE037486B219e3048563B849cC525", "transactionHash": "0x3f32125c3652f37c74b57859c2c1fb14d0fee63a8703c5c30f632bbddd0641fc" }, "1605871208899": { "events": { "0x8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, "0x9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, "0xc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" } }, "links": {}, "address": "0xBB906fb88cbf922665915509cBd8D9a23b86baea", "transactionHash": "0x5fae9ca5a941610d802ece5521f9f4c6c18fb13c3bb2e8dfe7d484752c6e4ba3" }, "1606651836878": { "events": { "0x8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, "0x9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, "0xc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" } }, "links": {}, "address": "0xea8FE12A6c497396437b71bb9a053f08c6397DeC", "transactionHash": "0x7a7ec647b10250daaf5b271f015d713af37de217df5d7d775ba70107afceda81" }, "1606722469944": { "events": { "0x8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, "0x9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, "0xc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" } }, "links": {}, "address": "0x2eb46aef5beDcBe035D24CD5550F0f89ABf19Dbe", "transactionHash": "0xcbbed20994ba130c3f38910570f25a50ec2a3da136c5284d4fc32e1e687c46d0" }, "1607609050727": { "events": { "0x8d0bdc0bcc67110414e835f631225184f0ce60f9931eda82bcb29d3d6c698764": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "valueReceived", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "payerAddress", "type": "address" } ], "name": "DepositMade", "type": "event" }, "0x9c5def21f340f8e6b9a8566a7e6b3a2789a8733edcf6b28467db3bfb3942ab1e": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "ownerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "recyclerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "recyclerShare", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "manufacturerShare", "type": "uint256" } ], "name": "PanelClosed", "type": "event" }, "0xc33aa70e05e8747d84003b87e3b0f3844e4f8213f0ece6dc28e79d0f2eac1b9f": { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "panelId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "registrationNumber", "type": "uint256" }, { "indexed": false, "internalType": "string", "name": "manufacturer", "type": "string" }, { "indexed": false, "internalType": "address", "name": "manufacturerAddress", "type": "address" }, { "indexed": false, "internalType": "address", "name": "ownerAddress", "type": "address" } ], "name": "PanelRegistered", "type": "event" } }, "links": {}, "address": "0x3ec39540248BD92eA0C738b106E4070f07692c5D", "transactionHash": "0x220b4c9f21094c5ea0e686606bcf97b3eb480f7cb1a82e0c3ee93ffdc9696e33" } }, "schemaVersion": "3.2.5", "updatedAt": "2020-12-10T14:33:21.231Z", "networkType": "ethereum", "devdoc": { "methods": {} }, "userdoc": { "methods": {} } }